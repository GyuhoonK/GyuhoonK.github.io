<?xml version="1.0" encoding="utf-8"?>

<feed xmlns="http://www.w3.org/2005/Atom" >
  <generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator>
  <link href="https://gyuhoonk.github.io/tag/python/feed.xml" rel="self" type="application/atom+xml" />
  <link href="https://gyuhoonk.github.io/" rel="alternate" type="text/html" />
  <updated>2026-03-01T22:12:39+09:00</updated>
  <id>https://gyuhoonk.github.io/tag/python/feed.xml</id>

  
  
  

  
    <title type="html">Gyuhoon Kim | </title>
  

  
    <subtitle>Data Engineering</subtitle>
  

  

  
    
      
    
  

  
  

  
    <entry>
      <title type="html">FastAPI ë‚´ë¶€ êµ¬ì¡°, ì˜ì¡´ì„± ì£¼ì…, Celery</title>
      <link href="https://gyuhoonk.github.io/fastapi-1" rel="alternate" type="text/html" title="FastAPI ë‚´ë¶€ êµ¬ì¡°, ì˜ì¡´ì„± ì£¼ì…, Celery" />
      <published>2026-03-01T09:30:00+09:00</published>
      <updated>2026-03-01T09:30:00+09:00</updated>
      <id>https://gyuhoonk.github.io/fastapi-1</id>
      <content type="html" xml:base="https://gyuhoonk.github.io/fastapi-1">&lt;h1 id=&quot;fastapi-í•´ë¶€í•˜ê¸°-ë‚´ë¶€-êµ¬ì¡°ë¶€í„°-ë¹„ë™ê¸°-ë™ì‘-ì›ë¦¬-di-ê·¸ë¦¬ê³ -celery-ì—°ë™ê¹Œì§€&quot;&gt;[FastAPI í•´ë¶€í•˜ê¸°] ë‚´ë¶€ êµ¬ì¡°ë¶€í„° ë¹„ë™ê¸° ë™ì‘ ì›ë¦¬, DI, ê·¸ë¦¬ê³  Celery ì—°ë™ê¹Œì§€&lt;/h1&gt;

&lt;p&gt;FastAPIì˜ ë‚´ë¶€ ë™ì‘ ì›ë¦¬, íŠ¹íˆ ë¹„ë™ê¸°(Async) ì²˜ë¦¬ì™€ ì´ë²¤íŠ¸ ë£¨í”„, ì˜ì¡´ì„± ì£¼ì…(DI), ê·¸ë¦¬ê³  ì‹¤ì œ ìš´ì˜ì— í•„ìš”í•œ ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ì²˜ë¦¬ ë°©ì‹ê¹Œì§€ ë…¼ë¦¬ì ì¸ íë¦„ì— ë”°ë¼ ê¹Šì´ ìˆê²Œ íŒŒí—¤ì³ ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;1-fastapiì˜-ë¼ˆëŒ€&quot;&gt;1. FastAPIì˜ ë¼ˆëŒ€&lt;/h2&gt;

&lt;p&gt;FastAPIëŠ” &lt;strong&gt;ASGI&lt;/strong&gt;, &lt;strong&gt;Starlette&lt;/strong&gt;, ê·¸ë¦¬ê³  &lt;strong&gt;Pydantic&lt;/strong&gt;ã„¹ã„¹ ì´ìš©í•˜ì—¬ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ê³¼ê±°ì˜-wsgiì™€-í˜„ì¬ì˜-asgi&quot;&gt;ê³¼ê±°ì˜ WSGIì™€ í˜„ì¬ì˜ ASGI&lt;/h3&gt;
&lt;p&gt;ê¸°ì¡´ íŒŒì´ì¬ ì›¹ í‘œì¤€ì¸ WSGI(Django, Flask ë“±)ëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ìš”ì²­ì„ ìˆœì°¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ë™ê¸°ì‹ êµ¬ì¡°ì˜€ìŠµë‹ˆë‹¤. ë°˜ë©´ &lt;strong&gt;ASGI(Asynchronous Server Gateway Interface)&lt;/strong&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async/await&lt;/code&gt;ë¥¼ ë„¤ì´í‹°ë¸Œë¡œ ì§€ì›í•˜ì—¬, DBë‚˜ ë„¤íŠ¸ì›Œí¬ ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” ë™ì•ˆ ë‹¤ë¥¸ ìš”ì²­ì„ ë™ì‹œì— ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ” ë¹„ë™ê¸° ì›¹ í‘œì¤€ì…ë‹ˆë‹¤. FastAPIëŠ” ì´ ASGI ê¸°ë°˜ì˜ ì´ˆê²½ëŸ‰ í”„ë ˆì„ì›Œí¬ì¸ &lt;strong&gt;Starlette&lt;/strong&gt; ìœ„ì—ì„œ ë™ì‘í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ìš”ì²­ì˜-ë¼ì´í”„ì‚¬ì´í´-uvicornê³¼-router&quot;&gt;ìš”ì²­ì˜ ë¼ì´í”„ì‚¬ì´í´ (Uvicornê³¼ Router)&lt;/h3&gt;
&lt;p&gt;í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ì´ ë“¤ì–´ì˜¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ íë¦„ì„ ê±°ì¹©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Uvicorn (ASGI ì„œë²„ / ë¬¸ì§€ê¸°):&lt;/strong&gt; í´ë¼ì´ì–¸íŠ¸ì™€ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ë§ºê³  HTTP ìš”ì²­ì„ ìˆ˜ì‹ í•˜ì—¬ íŒŒì´ì¬ ë”•ì…”ë„ˆë¦¬ë¡œ íŒŒì‹±í•©ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Router (êµí†µê²½ì°°):&lt;/strong&gt; FastAPI(Starlette) ë‚´ë¶€ì—ì„œ ìš”ì²­ëœ URL ê²½ë¡œì™€ HTTP ë©”ì„œë“œë¥¼ í™•ì¸í•˜ì—¬ ì‹¤í–‰í•  ì—”ë“œí¬ì¸íŠ¸(í•¨ìˆ˜)ë¥¼ ì°¾ìŠµë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Pydantic (ë°ì´í„° ê²€ì¦):&lt;/strong&gt; íŒŒì´ì¬ íƒ€ì… íŒíŠ¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš”ì²­ ë°ì´í„°(Body, Query ë“±)ì˜ ìœ íš¨ì„±ì„ ê²€ì‚¬í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pydantic&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BaseModel&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Pydanticì„ ì´ìš©í•œ ë°ì´í„° ê²€ì¦ ëª¨ë¸
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BaseModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;age&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Routerê°€ '/users/' POST ìš”ì²­ì„ ì´ í•¨ìˆ˜ë¡œ ë§¤í•‘
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/users/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;User&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Uvicornì´ ìš”ì²­ì„ ë°›ê³  -&amp;gt; Routerê°€ ì—°ê²°í•˜ê³  -&amp;gt; Pydanticì´ user íƒ€ì…ì„ ê²€ì¦í•¨
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;User &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt; created!&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;2-ë‹¨ì¼-ìŠ¤ë ˆë“œì™€-ì´ë²¤íŠ¸-ë£¨í”„event-loop&quot;&gt;2. ë‹¨ì¼ ìŠ¤ë ˆë“œì™€ ì´ë²¤íŠ¸ ë£¨í”„(Event Loop)&lt;/h2&gt;

&lt;p&gt;FastAPIì˜ í•µì‹¬ ì„±ëŠ¥ì€ &lt;strong&gt;ë‹¨ì¼ ìŠ¤ë ˆë“œ(Single Thread) + ì´ë²¤íŠ¸ ë£¨í”„(Event Loop)&lt;/strong&gt; êµ¬ì¡°ì—ì„œ ë‚˜ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì›¹ ì„œë²„ ì‘ì—…ì˜ 90%ëŠ” CPU ì—°ì‚°ì´ ì•„ë‹ˆë¼ DB ì¿¼ë¦¬ë‚˜ ì™¸ë¶€ API ì‘ë‹µì„ ê¸°ë‹¤ë¦¬ëŠ” &lt;strong&gt;I/O Bound&lt;/strong&gt; ì‘ì—…ì…ë‹ˆë‹¤. ê¸°ì¡´ ë©€í‹° ìŠ¤ë ˆë“œ ë°©ì‹ì€ ëŒ€ê¸° ì‹œê°„ ë™ì•ˆ ìŠ¤ë ˆë“œê°€ ì•„ë¬´ê²ƒë„ í•˜ì§€ ì•Šê³  ë©ˆì¶°ìˆì–´ ìì› ë‚­ë¹„ê°€ ì‹¬í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;í•˜ì§€ë§Œ ì´ë²¤íŠ¸ ë£¨í”„ ë°©ì‹ì€ â€œí˜¼ì ì¼í•˜ëŠ” ì—„ì²­ë‚˜ê²Œ ë¹ ë¥¸ ì›¨ì´í„°â€ì™€ ê°™ìŠµë‹ˆë‹¤. ì£¼ë°©(DB)ì— ì£¼ë¬¸ì„ ë„£ê³  ìš”ë¦¬ê°€ ë‚˜ì˜¬ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ì¦‰ì‹œ ë‹¤ë¥¸ í…Œì´ë¸”(í´ë¼ì´ì–¸íŠ¸)ì˜ ì£¼ë¬¸ì„ ë°›ìœ¼ëŸ¬ ê°‘ë‹ˆë‹¤. ìš”ë¦¬ê°€ ì™„ì„±ë˜ì—ˆë‹¤ëŠ” ì•Œë¦¼(Event)ì´ ì˜¤ë©´ ê·¸ë•Œ ë‹¤ì‹œ ì„œë¹™ì„ ì´ì–´ê°‘ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì¹˜ëª…ì ì¸-ì‹¤ìˆ˜-ì´ë²¤íŠ¸-ë£¨í”„-ë¸”ë¡œí‚¹-event-loop-blocking&quot;&gt;ì¹˜ëª…ì ì¸ ì‹¤ìˆ˜: ì´ë²¤íŠ¸ ë£¨í”„ ë¸”ë¡œí‚¹ (Event Loop Blocking)&lt;/h3&gt;
&lt;p&gt;ê°€ì¥ ì£¼ì˜í•´ì•¼ í•  ì ì€ ë‹¨ì¼ ìŠ¤ë ˆë“œì´ê¸° ë•Œë¬¸ì—, ì´ë²¤íŠ¸ ë£¨í”„ì˜ í†µì œê¶Œì„ ë„˜ê²¨ì£¼ì§€ ì•Šê³ (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;await&lt;/code&gt; ìƒëµ) í˜¼ìì„œ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ë™ê¸° ì‘ì—…ì„ ìˆ˜í–‰í•˜ë©´ &lt;strong&gt;ì „ì²´ ì„œë²„ê°€ ë©ˆì¶°ë²„ë¦°ë‹¤&lt;/strong&gt;ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;time&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;asyncio&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ğŸš¨ ë‚˜ìœ ì˜ˆì‹œ: ì´ë²¤íŠ¸ ë£¨í”„ ë¸”ë¡œí‚¹
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/bad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;bad_endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 5ì´ˆ ë™ì•ˆ ë‹¨ì¼ ìŠ¤ë ˆë“œê°€ ë©ˆì¶¤. ë‹¤ë¥¸ ì ‘ì†ìë“¤ë„ ë¬´í•œ ëŒ€ê¸°!
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;bad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# âœ… ì¢‹ì€ ì˜ˆì‹œ: ì œì–´ê¶Œ ë°˜í™˜
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/good&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;good_endpoint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;asyncio&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ëŒ€ê¸°í•˜ëŠ” ë™ì•ˆ ì´ë²¤íŠ¸ ë£¨í”„ê°€ ë‹¤ë¥¸ ìš”ì²­ì„ ì²˜ë¦¬í•¨
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;good&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;3-ë©€í‹°-ìŠ¤ë ˆë”©ì„-í’ˆì€-ë¹„ë™ê¸°-def-vs-async-def&quot;&gt;3. ë©€í‹° ìŠ¤ë ˆë”©ì„ í’ˆì€ ë¹„ë™ê¸°: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;def&lt;/code&gt; vs &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async def&lt;/code&gt;&lt;/h2&gt;

&lt;p&gt;â€œê·¸ë ‡ë‹¤ë©´ ê¸°ì¡´ì˜ ë™ê¸°ì‹ ë¼ì´ë¸ŒëŸ¬ë¦¬(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;requests&lt;/code&gt;, ì¼ë°˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;SQLAlchemy&lt;/code&gt;)ëŠ” FastAPIì—ì„œ ì•„ì˜ˆ ëª» ì“°ë‚˜ìš”? ë©€í‹° ìŠ¤ë ˆë”©ì€ ë¶ˆê°€ëŠ¥í•œê°€ìš”?â€&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ì§€ ì•ŠìŠµë‹ˆë‹¤. FastAPIëŠ” í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ëŠ” ë°©ì‹ì— ë”°ë¼ ìŠ¤ë ˆë“œë¥¼ ì˜ë¦¬í•˜ê²Œ ë¶„ë°°í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async def&lt;/code&gt;:&lt;/strong&gt; ë©”ì¸ ìŠ¤ë ˆë“œì˜ ì´ë²¤íŠ¸ ë£¨í”„ ìœ„ì—ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;def&lt;/code&gt;:&lt;/strong&gt; ë©”ì¸ ìŠ¤ë ˆë“œê°€ ë¸”ë¡œí‚¹ë˜ëŠ” ê²ƒì„ ë§‰ê¸° ìœ„í•´, ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;AnyIO&lt;/code&gt; ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í†µí•´ &lt;strong&gt;ì™¸ë¶€ ìŠ¤ë ˆë“œ í’€(Thread Pool)ì˜ ë³„ë„ ìŠ¤ë ˆë“œì— ì‘ì—…ì„ ìœ„ì„&lt;/strong&gt;í•©ë‹ˆë‹¤. (ë‚´ë¶€ì ìœ¼ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;anyio.to_thread.run_sync()&lt;/code&gt; í˜¹ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;asyncio.to_thread()&lt;/code&gt;ì™€ ë™ì¼í•œ ì›ë¦¬ë¡œ ë™ì‘í•©ë‹ˆë‹¤.)&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;requests&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;httpx&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 1. ë™ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì‹œ -&amp;gt; ì¼ë°˜ def ì‚¬ìš© (ìŠ¤ë ˆë“œ í’€ì—ì„œ ë©€í‹° ìŠ¤ë ˆë“œë¡œ ì‹¤í–‰)
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/sync-call&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;sync_call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ë©”ì¸ ì´ë²¤íŠ¸ ë£¨í”„ë¥¼ ë§‰ì§€ ì•Šê¸° ìœ„í•´ FastAPIê°€ ì•Œì•„ì„œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œë¡œ ë˜ì ¸ì„œ ì‹¤í–‰í•¨
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;requests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;[https://example.com](https://example.com)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 2. ë¹„ë™ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ì‹œ -&amp;gt; async def ì‚¬ìš© (ë©”ì¸ ì´ë²¤íŠ¸ ë£¨í”„ì—ì„œ ì‹¤í–‰)
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/async-call&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;async_call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;httpx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AsyncClient&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;await&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;[https://example.com](https://example.com)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ë‹¨, ì›Œì»¤ ìŠ¤ë ˆë“œ í’€ì˜ ê°œìˆ˜ì—ëŠ” í•œê³„ê°€ ìˆìœ¼ë¯€ë¡œ íŠ¸ë˜í”½ì´ ë†’ì€ ì„œë¹„ìŠ¤ë¼ë©´ I/O ì‘ì—…ì€ ê°€ê¸‰ì  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;async def&lt;/code&gt;ì™€ ë¹„ë™ê¸° ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì„±ëŠ¥ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê¸¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;4-ì˜ì¡´ì„±-ì£¼ì…diê³¼-ì‹±ê¸€í†¤singleton-ê°ì²´-ê´€ë¦¬&quot;&gt;4. ì˜ì¡´ì„± ì£¼ì…(DI)ê³¼ ì‹±ê¸€í†¤(Singleton) ê°ì²´ ê´€ë¦¬&lt;/h2&gt;

&lt;p&gt;FastAPIëŠ” ìì²´ì ìœ¼ë¡œ í›Œë¥­í•œ DI(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Depends&lt;/code&gt;) ì‹œìŠ¤í…œì„ ê°–ì¶”ê³  ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ëŠ” ì£¼ë¡œ &lt;strong&gt;ìš”ì²­(Request) ìŠ¤ì½”í”„&lt;/strong&gt;ì— ë§ì¶°ì ¸ ìˆì–´, ìš”ì²­ì´ ë“¤ì–´ì˜¬ ë•Œë§ˆë‹¤ ê°ì²´ë¥¼ ìƒˆë¡œ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë§Œì•½ DB ì»¤ë„¥ì…˜ í’€ì²˜ëŸ¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ìˆ˜ëª… ì£¼ê¸° ë™ì•ˆ ë‹¨ í•˜ë‚˜ì˜ ê°ì²´ë§Œ ìœ ì§€í•˜ëŠ” &lt;strong&gt;ì‹±ê¸€í†¤(Singleton)&lt;/strong&gt; íŒ¨í„´ì´ë‚˜, ë” ì •êµí•œ IoC ì»¨í…Œì´ë„ˆê°€ í•„ìš”í•˜ë‹¤ë©´ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;dependency_injector&lt;/code&gt;ë¥¼ ê²°í•©í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Depends&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;dependency_injector&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;providers&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;dependency_injector.wiring&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Provide&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 1. ì‚¬ìš©í•  ì„œë¹„ìŠ¤ ê°ì²´
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DatabaseService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DB ì—°ê²° ê°ì²´ ìƒì„±ë¨! (ìµœì´ˆ 1íšŒë§Œ ì¶œë ¥ë˜ì–´ì•¼ í•¨)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;connected&quot;&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 2. DI ì»¨í…Œì´ë„ˆ ì •ì˜ (Singleton Provider ì‚¬ìš©)
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;containers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DeclarativeContainer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;db_service&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;providers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Singleton&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DatabaseService&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 3. ì—”ë“œí¬ì¸íŠ¸ì— ì£¼ì…
&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inject&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DatabaseService&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Depends&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Provide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;db_service&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])):&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ìš”ì²­ì´ 100ë²ˆ ë“¤ì–´ì™€ë„ DatabaseServiceëŠ” ë‹¨ 1ê°œë§Œ ìƒì„±ë˜ì–´ ì¬ì‚¬ìš©ë¨
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;db_status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# 4. ì•± ì‹œì‘ ì‹œ ì»¨í…Œì´ë„ˆ ì—°ê²°
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;container&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;container&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;modules&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__name__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;5-ë°±ê·¸ë¼ìš´ë“œ-ì‘ì—…-ë¶„ë¦¬-backgroundtasksì™€-celery&quot;&gt;5. ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… ë¶„ë¦¬: BackgroundTasksì™€ Celery&lt;/h2&gt;

&lt;p&gt;API ì‘ë‹µì€ 0.1ì´ˆ ë§Œì— ë‚˜ê°€ì•¼ í•˜ëŠ”ë°, ë°ì´í„° íŒŒì´í”„ë¼ì¸ íŠ¸ë¦¬ê±°, ì´ë©”ì¼ ë°œì†¡, ì˜ìƒ ì¸ì½”ë”©ì²˜ëŸ¼ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ìˆë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”? ì‘ì—…ì˜ ë¬´ê±°ìš´ ì •ë„ì— ë”°ë¼ ë‘ ê°€ì§€ ì „ëµì„ ì·¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;a-ê°€ë²¼ìš´-ì‘ì—…-ë‚´ì¥-backgroundtasks&quot;&gt;A. ê°€ë²¼ìš´ ì‘ì—…: ë‚´ì¥ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;BackgroundTasks&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;FastAPI í”„ë¡œì„¸ìŠ¤ ë‚´ì—ì„œ ì‘ë‹µì„ ë³´ë‚¸ ì§í›„ ë‚¨ì€ ì‘ì—…ì„ ë§ˆì € ì²˜ë¦¬í•©ë‹ˆë‹¤. ì„¤ì •ì´ í•„ìš” ì—†ì–´ ë§¤ìš° ê°„í¸í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BackgroundTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;write_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;log.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/log&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;log_message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bg_tasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;BackgroundTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ì‘ë‹µì€ ì¦‰ì‹œ ë°˜í™˜í•˜ê³ , íŒŒì¼ ì“°ê¸°ëŠ” ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;bg_tasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write_log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Log: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;Log will be written in background&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;b-ë¬´ê±°ìš´-ì‘ì—…-cpu-ì§‘ì•½ì -celery--redis-ì—°ë™&quot;&gt;B. ë¬´ê±°ìš´ ì‘ì—… (CPU ì§‘ì•½ì ): Celery + Redis ì—°ë™&lt;/h3&gt;
&lt;p&gt;ëª‡ ë¶„ ì´ìƒ ê±¸ë¦¬ê±°ë‚˜, ì‹¤íŒ¨ ì‹œ ì¬ì‹œë„ê°€ í•„ìš”í•œ ë¬´ê±°ìš´ ì‘ì—…ì€ ë©”ì¸ ì›¹ ì„œë²„(Uvicorn/Gunicorn)ì™€ ì›Œì»¤ë¥¼ ì™„ì „íˆ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤. ì´ë•Œ &lt;strong&gt;ë©”ì‹œì§€ ë¸Œë¡œì»¤(Redis)&lt;/strong&gt;ì™€ &lt;strong&gt;ë¹„ë™ê¸° ì‘ì—… í(Celery)&lt;/strong&gt;ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# --- celery_app.py (ì›Œì»¤ ì •ì˜) ---
&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;celery&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Celery&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;time&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;celery_app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Celery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;tasks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;broker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;redis://localhost:6379/0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;celery_app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;heavy_computation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# 10ì´ˆ ê±¸ë¦¬ëŠ” ë¬´ê±°ìš´ ì‘ì—…
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# --- main.py (FastAPI) ---
&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;fastapi&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;celery_app&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heavy_computation&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FastAPI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;/start-computation/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;async&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;start_computation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;int&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# Redis íì— ì‘ì—… ì§€ì‹œì„œë§Œ ë˜ì ¸ë†“ê³  ì¦‰ì‹œ ë¹ ì ¸ë‚˜ì˜´ (ëŒ€ê¸° X)
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;heavy_computation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ì‘ì—… ì‹œì‘ë¨&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;task_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;task&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;ì´ êµ¬ì¡°ë¥¼ í†µí•´ FastAPIëŠ” í´ë¼ì´ì–¸íŠ¸ì™€ HTTP í†µì‹ ì„ ë¹ ë¥´ê²Œ ì£¼ê³ ë°›ëŠ” ë°ë§Œ ì§‘ì¤‘í•˜ê³ , ë¬´ê±°ìš´ ì§ì€ ë’¤ì— ìˆëŠ” Celery ì›Œì»¤ë“¤ì´ ë‚˜ëˆ„ì–´ ì§€ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;ë§ˆë¬´ë¦¬&quot;&gt;ë§ˆë¬´ë¦¬&lt;/h2&gt;

&lt;p&gt;FastAPIëŠ” ë‹¨ìˆœí•œ ë„êµ¬ë¥¼ ë„˜ì–´ íŒŒì´ì¬ ë°±ì—”ë“œ ê°œë°œì˜ íŒ¨ëŸ¬ë‹¤ì„ì„ ë™ê¸°ì—ì„œ ë¹„ë™ê¸°ë¡œ ì˜®ê²¨ê°€ëŠ” ë° í° ì—­í• ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ê°€ë²¼ìš´ I/O ì‘ì—…ì€ &lt;strong&gt;ë‹¨ì¼ ìŠ¤ë ˆë“œ + ì´ë²¤íŠ¸ ë£¨í”„&lt;/strong&gt;ë¡œ ê·¹ê°•ì˜ íš¨ìœ¨ì„ ë‚´ê³ &lt;/li&gt;
  &lt;li&gt;ë™ê¸°ì‹ êµ¬í˜• ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” &lt;strong&gt;ìŠ¤ë ˆë“œ í’€(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;def&lt;/code&gt;)&lt;/strong&gt;ë¡œ ìœ ì—°í•˜ê²Œ ê°ì‹¸ ì•ˆìœ¼ë©°&lt;/li&gt;
  &lt;li&gt;ë¬´ê±°ìš´ CPU/ë°ì´í„° ì²˜ë¦¬ ì—°ì‚°ì€ &lt;strong&gt;Celery&lt;/strong&gt; ê°™ì€ ì™¸ë¶€ ì›Œì»¤ë¡œ ë¶„ë¦¬í•˜ëŠ” ì•„í‚¤í…ì²˜&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì´ëŸ¬í•œ ë‚´ë¶€ ë™ì‘ì˜ ì›ë¦¬ë¥¼ ëª…í™•íˆ ì´í•´í•œë‹¤ë©´, í™•ì¥ì„± ìˆê³  ê²¬ê³ í•œ í˜„ëŒ€ì  ë°ì´í„°/ì›¹ ì„œë¹„ìŠ¤ ë°±ì—”ë“œ ì‹œìŠ¤í…œì„ ì„±ê³µì ìœ¼ë¡œ êµ¬ì¶•í•  ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>GyuhoonK</name>
        
        
      </author>

      

      
        <category term="python" />
      

      
        <summary type="html">[FastAPI í•´ë¶€í•˜ê¸°] ë‚´ë¶€ êµ¬ì¡°ë¶€í„° ë¹„ë™ê¸° ë™ì‘ ì›ë¦¬, DI, ê·¸ë¦¬ê³  Celery ì—°ë™ê¹Œì§€</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Sharing Avro Schema to Python</title>
      <link href="https://gyuhoonk.github.io/avro-to-python" rel="alternate" type="text/html" title="Sharing Avro Schema to Python" />
      <published>2023-05-07T22:30:00+09:00</published>
      <updated>2023-05-07T22:30:00+09:00</updated>
      <id>https://gyuhoonk.github.io/avro-to-python</id>
      <content type="html" xml:base="https://gyuhoonk.github.io/avro-to-python">&lt;p&gt;DataHubì—ì„œ avro schema íŒŒì¼(avsc)ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•&lt;/p&gt;

&lt;h3 id=&quot;datahub-cli-íŒ¨í‚¤ì§€&quot;&gt;DataHub CLI íŒ¨í‚¤ì§€&lt;/h3&gt;
&lt;p&gt;DataHubëŠ” DataHub APIë¥¼ python íŒ¨í‚¤ì§€ë¡œ ì œê³µí•˜ê³  ìˆìŠµë‹ˆë‹¤. &lt;a href=&quot;https://pypi.org/project/acryl-datahub/&quot;&gt;acryl-datahub&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-shell highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;pip &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'acryl-datahub[datahub-rest]'&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;datahub ingest &lt;span class=&quot;nt&quot;&gt;-c&lt;/span&gt; ./examples/recipes/mssql_to_datahub.dhub.yml
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;acryl-datahub[datahub-rest]&lt;/code&gt;ë¥¼ ì„¤ì¹˜í•˜ë©´, python ì½”ë“œ ë‚´ì—ì„œ datahub íŒ¨í‚¤ì§€ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. datahub íŒ¨í‚¤ì§€ ë‚´ì—ëŠ” DataHubì—ì„œ ì‚¬ìš©í•˜ëŠ” ë©”íƒ€ë°ì´í„°ì˜ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•´ë†“ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;schema_classes&lt;/code&gt;ë„ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;datahub.metadata.schema_classes&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DatasetSnapshotClass&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;schema_classes&lt;/code&gt;ëŠ” DataHubì˜ ì„œë¸Œ í”„ë¡œì íŠ¸ ì¤‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata&lt;/code&gt; ëª¨ë“ˆì´ ì†í•´ ìˆëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-ingestion&lt;/code&gt;ì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;metadataschema_classesëŠ”-ì–´ë””ì—-ìˆëŠ”ê±°ì§€&quot;&gt;metadata.schema_classesëŠ” ì–´ë””ì— ìˆëŠ”ê±°ì§€?&lt;/h3&gt;

&lt;p&gt;DataHubì—ì„œ ë©”íƒ€ë°ì´í„°ì˜ ìŠ¤í‚¤ë§ˆë¥¼ ì–´ë–»ê²Œ ì •ì˜í•˜ê³  ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì‹¶ì–´ì„œ, git repoì—ì„œ ë°°í¬ë˜ê³  ìˆëŠ” ì†ŒìŠ¤ì½”ë“œë¥¼ ì°¾ì•„ë³´ì•˜ìŠµë‹ˆë‹¤(&lt;a href=&quot;https://github.com/acryldata/datahub/tree/master/metadata-ingestion/src/datahub&quot;&gt;metadata-ingestion/src/datahub&lt;/a&gt;).
ê·¸ëŸ°ë° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-ingestion&lt;/code&gt;ì˜ ì†ŒìŠ¤ì½”ë“œ(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datahub/metadata-ingestion/src/datahub&lt;/code&gt;)ì—ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;meatadata&lt;/code&gt; ëª¨ë“ˆì„ ì°¾ì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/python/datahub-src.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;meatadata&lt;/code&gt; ëª¨ë“ˆì„ ë¯¸ë¦¬ ì‘ì„±í•´ë†“ì§€ ì•Šê³ , ë¹Œë“œì— ì˜í•´ ìƒì„±ë˜ëŠ” ê²ƒìœ¼ë¡œ ì¶”ì¸¡í–ˆìŠµë‹ˆë‹¤. ë¹Œë“œ íŒŒì¼(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;datahub/metadata-ingestion/build.gradle&lt;/code&gt;)ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata&lt;/code&gt; ëª¨ë“ˆì— í•´ë‹¹í•˜ëŠ” ì†ŒìŠ¤ì½”ë“œë¥¼ ìƒì„±í•˜ëŠ” taskë¥¼ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;build.gradle&lt;/code&gt;ì— ì •ì˜ëœ codegen taskì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata&lt;/code&gt; ëª¨ë“ˆì„ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-gradle highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;codegen&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;type:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Exec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;dependsOn:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environmentSetup&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;installPackage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;':metadata-events:mxe-schemas:build'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;inputs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;project&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;fileTree&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;dir:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;../metadata-events/mxe-schemas/src/&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;include:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;**/*.avsc&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;outputs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'src/datahub/metadata'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;commandLine&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'bash'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'-c'&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;source ${venv_name}/bin/activate &amp;amp;&amp;amp; ./scripts/codegen.sh&quot;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ taskëŠ” ì•„ë˜ì²˜ëŸ¼ ê°„ë‹¨í•˜ê²Œ 3ê°€ì§€ ë‹¨ê³„ë¡œ ìš”ì•½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-events&lt;/code&gt; ë‚´ë¶€ì˜ avro schema íŒŒì¼(avsc)ì„ ì½ëŠ”ë‹¤&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;codegen.sh&lt;/code&gt;ë¥¼ ì‹¤í–‰í•˜ì—¬ 1ì—ì„œ ì½ì€ íŒŒì¼ì„ python íŒŒì¼ë¡œ ë³€í™˜í•œë‹¤&lt;/li&gt;
  &lt;li&gt;ë³€í™˜í•œ íŒŒì¼ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/datahub/metadata&lt;/code&gt;ì— ì €ì¥í•œë‹¤&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;codegen.sh&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avro_codegen.py&lt;/code&gt; ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. avscì—ì„œ ì½ì€ ì •ë³´ë¥¼ ì¬ì¡°í•©í•˜ì—¬ python íŒŒì¼(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata&lt;/code&gt; ëª¨ë“ˆ)ì„ ìƒì„±í•  ìˆ˜ ìˆëŠ” ë¡œì§ì„ ë‹´ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ë‹¤ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-events&lt;/code&gt;ì— avsc íŒŒì¼ì´ ì¡´ì¬í•  ê²ƒì´ë¼ê³  ì˜ˆì¸¡í•˜ê³  í•´ë‹¹ ì„œë¸Œ í”„ë¡œì íŠ¸ë¥¼ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;metadata-events-avro-schemaavsc-ìƒì„±í•˜ê¸°&quot;&gt;metadata-events: Avro Schema(avsc) ìƒì„±í•˜ê¸°&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-ingestion&lt;/code&gt;ì—ì„œ python íŒ¨í‚¤ì§€ ë¹Œë“œí•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” avsc íŒŒì¼ë„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-events&lt;/code&gt;ë¥¼ ë¹Œë“œí•˜ì—¬ ìƒì„±í•´ì•¼í–ˆìŠµë‹ˆë‹¤. ì¦‰, DataHub í”„ë¡œì íŠ¸ëŠ” ì„œë¸Œ í”„ë¡œì íŠ¸ë“¤ ê°„ì— ì˜ì¡´ì„±(dependency)ì„ ê°–ìŠµë‹ˆë‹¤. 
avsc íŒŒì¼ì„ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-events&lt;/code&gt; ì¤‘ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;mxe-schemas&lt;/code&gt;ë¥¼ ë¹Œë“œí•´ì•¼í•©ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-events/mxe-schemas/build.gradle&lt;/code&gt;ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-gradle highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;// `datahub/metadata-events/mxe-schemas/build.gradle`&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;copyMetadataModels&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;type:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;../../metadata-models/src/main/pegasus/&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/main/pegasus&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;generateAvroSchema&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;dependsOn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;copyMetadataModels&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pegasus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;generationModes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PegasusGenerationMode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;PEGASUS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PegasusGenerationMode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;AVRO&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;task&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;copyOriginalAvsc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nl&quot;&gt;type:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Copy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nl&quot;&gt;dependsOn:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;generateAvroSchema&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/mainGeneratedAvroSchema/avro&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;src/renamed/avro&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ ë¹Œë“œë¥¼ ê°„ë‹¨í•˜ê²Œ í…ìŠ¤íŠ¸ë¡œ ìš”ì•½í•´ë³´ë©´ ì•„ë˜ 3ë‹¨ê³„ë¥¼ ê±°ì¹©ë‹ˆë‹¤.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;ì„œë¸Œ í”„ë¡œì íŠ¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-models&lt;/code&gt;ì˜ ì†ŒìŠ¤ íŒŒì¼ì„ ë³µì‚¬í•´ì˜¨ë‹¤(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;copyMetadataModels&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;ë³µì‚¬í•´ì˜¨ ì†ŒìŠ¤ íŒŒì¼ì„ ì´ìš©í•˜ì—¬ PEAGASUS, AVRO í¬ë§·ì˜ íŒŒì¼ì„ ìƒì„±í•œë‹¤(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;egasus.main.generationModes&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;ìƒì„±ëœ AVSC íŒŒì¼ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/renamed/avro&lt;/code&gt; ê²½ë¡œì— ë³µì‚¬í•œë‹¤(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;copyOriginalAvsc&lt;/code&gt;)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì„œë¸Œí”„ë¡œì íŠ¸ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-ingestion&lt;/code&gt;ì—ì„œ ì°¸ì¡°í•˜ê³  ìˆëŠ” avsc íŒŒì¼ ê²½ë¡œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;&quot;**/*.avsc&quot;&lt;/code&gt;ì´ê¸° ë•Œë¬¸ì— 3ë²ˆ ê³¼ì •ì—ì„œ ìƒì„±ëœ avsc íŒŒì¼(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;src/renamed/avro&lt;/code&gt; í•˜ìœ„ì— ìˆëŠ” avsc íŒŒì¼ë“¤)ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;avro_codegenpyëŠ”-ì–´ë–»ê²Œ-ëª¨ë“ˆì„-ìƒì„±í•˜ì§€&quot;&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avro_codegen.py&lt;/code&gt;ëŠ” ì–´ë–»ê²Œ ëª¨ë“ˆì„ ìƒì„±í•˜ì§€?&lt;/h3&gt;

&lt;p&gt;ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;metadata-ingestion&lt;/code&gt; ì„œë¸Œ í”„ë¡œì íŠ¸ë¡œ ëŒì•„ì™€ì„œ ìƒì„±ëœ ascv íŒŒì¼ì„ ì½ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;meatadata&lt;/code&gt; ëª¨ë“ˆì„ ìƒì„±í•˜ëŠ” ì§€ í™•ì¸í•´ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avrogen.write_schema_files&lt;/code&gt;ë¥¼ ì‹¤í–‰í•˜ì—¬ ì†ŒìŠ¤ì½”ë“œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;write_schema_files&lt;/code&gt;ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avro.schema.make_avsc_object&lt;/code&gt;ë¥¼ í†µí•´ ìƒì„±ëœ avro schema ê°ì²´ë¥¼ ì…ë ¥ë°›ì•„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;schema_classes.py&lt;/code&gt;ë¥¼ ì‘ì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì…ë ¥ë°›ëŠ” avro schema ê°ì²´ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avro.schema.make_avsc_object&lt;/code&gt;ë¡œ ìƒì„±ë©ë‹ˆë‹¤. jsoníŒŒì¼ì„ ì½ì–´ì„œ avro schema ê°ì²´ë¥¼ ìƒì„±í•˜ëŠ” ì—­í• ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë”°ë¼ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avro_codegen.py&lt;/code&gt;ë¥¼ ê°„ì†Œí™”í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê³¼ì •ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;avrogen&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write_schema_files&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ìƒì„±ëœ avsc íŒŒì¼ë“¤ì„ json í˜•íƒœë¡œ ì½ì–´ë“¤ì…ë‹ˆë‹¤
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;schema_file&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;schema_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;schema&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;load_schema_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;schema_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;schemas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;schema_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;schema&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ìƒì„±ëœ avro schema ê°ì²´ë¥¼ í•˜ë‚˜ì˜ ê°ì²´ë¡œ í•©ì¹©ë‹ˆë‹¤
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merged_schema&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge_schemas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;schemas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# í•˜ë‚˜ì˜ ê°ì²´ë¡œ í•©ì¹œ ê²°ê³¼ë¥¼ `schema_classes.py`ë¡œ ì‘ì„±í•©ë‹ˆë‹¤
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write_schema_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;merged_schema&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outdir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ì™œ-ì´ëŸ°-êµ¬ì¡°ë¥¼-ì‚¬ìš©í•˜ëŠ”ê±¸ê¹Œ&quot;&gt;ì™œ ì´ëŸ° êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ”ê±¸ê¹Œ?&lt;/h3&gt;

&lt;p&gt;ì• ì´ˆì— ì™œ ì´ë ‡ê²Œ ë³µì¡í•œ êµ¬ì¡°ë¥¼ ì‚¬ìš©í•˜ëŠ”ê±¸ê¹Œìš”? ì•„ë˜ì™€ ê°™ì€ ì˜ë¬¸ì´ ìƒê¸°ì§€ ì•Šì„ ìˆ˜ ì—†ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ì²˜ìŒë¶€í„° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;schema_classes.py&lt;/code&gt;Â íŒŒì¼ë„ ì‘ì„±í•˜ë©´ ë˜ëŠ”ê±° ì•„ë‹Œê°€? avsc íŒŒì¼ ìƒì„±í•  ë•ŒëŠ” í´ë˜ìŠ¤ ë³„ë¡œ ì˜ ìƒì„±í•˜ë˜ë° ì™œ ì—¬ê¸°ëŠ” ëª¨ë“  í´ë˜ìŠ¤ë¥¼ ë­‰ëš±ê·¸ë ¤ì„œ ë„£ì–´ë†¨ì§€..?&lt;/li&gt;
  &lt;li&gt;avsc íŒŒì¼ì€ ì™œ ìƒì„±ë˜ë„ë¡ ë§Œë“¤ì–´ë†“ì€ê±°ì•¼? ëª¨ë“  í”„ë¡œì íŠ¸ì—ì„œ ì°¸ì¡°í•˜ëŠ” ìŠ¤í‚¤ë§ˆë¼ë©´ ê·¸ëƒ¥ í•˜ë“œì½”ë”©ë˜ìˆì–´ë„ ê´œì°®ì€ ê²ƒ ì•„ë‹Œê°€?&lt;/li&gt;
  &lt;li&gt;ì´ëŸ° êµ¬ì¡°ê°€ ë‹¤ë¥¸ ì˜¤í”ˆì†ŒìŠ¤ë“¤ì—ì„œë„ ìì£¼ ì‚¬ìš©ë˜ëŠ” êµ¬ì¡°ì¸ê±´ê°€? avro íŒ¨í‚¤ì§€ì— ì½”ë“œ ìƒì„± í•¨ìˆ˜ê°€ ìˆëŠ” ê±¸ ë³´ë©´ ê·¸ëŸ° ê²ƒ ê°™ê¸°ë„ í•˜ê³ â€¦&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ì´ëŸ° ì˜ë¬¸ë“¤ì€ ìœ„ ê³¼ì •ë“¤ì„ ë‹¤ì‹œ í•œë²ˆ ì‚´í´ë³´ë©´ì„œ ì–´ëŠ ì •ë„ í•´ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h4 id=&quot;datahubëŠ”-restli-kafka-python-ì—ì„œ-ë™ì¼í•œ-ìŠ¤í‚¤ë§ˆë¥¼-ì‚¬ìš©í•´ì•¼í•œë‹¤&quot;&gt;DataHubëŠ” Rest.li, kafka, python ì—ì„œ ë™ì¼í•œ ìŠ¤í‚¤ë§ˆë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤&lt;/h4&gt;

&lt;p&gt;DataHubëŠ” í¬ê²Œ 3ê°€ì§€ ê¸°ìˆ ì„ ì´ìš©í•˜ì—¬ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Rest.li Framework: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;meatadata-service&lt;/code&gt;ì—ì„œ APIë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;Kafka: ì •í™•íˆëŠ” kafka-registryì—ì„œ í•´ë‹¹ topicì´ ì§€ì •í•œ schema í˜•íƒœë¥¼ ê°–ì¶”ì—ˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;Python: CLIë¥¼ êµ¬í˜„í•˜ê¸°ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê·¸ëŸ°ë° ì´ 3ê°€ì§€ ê¸°ìˆ  ìŠ¤íƒì´ ê°ê° ì‚¬ìš©í•˜ëŠ” ìŠ¤í‚¤ë§ˆ í˜•íƒœ(í¬ë§·)ì´ ë‹¤ë¦…ë‹ˆë‹¤.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Rest.li Framework: PDL Schema(Pegasus)ë¥¼ ì´ìš©í•©ë‹ˆë‹¤ (&lt;a href=&quot;https://linkedin.github.io/rest.li/pdl_schema&quot;&gt;PDL Schema&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;Kafka-registry: avro(avsc)ë¥¼ ì´ìš©í•˜ì—¬ ìŠ¤í‚¤ë§ˆë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.&lt;/li&gt;
  &lt;li&gt;Python: í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ì—¬ í•´ë‹¹ í¬ë§·ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ë”°ë¼ì„œ Avroë§Œìœ¼ë¡œ ìŠ¤í‚¤ë§ˆë¥¼ ì‘ì„±í•œë‹¤ë©´, Rest.liì—ì„œëŠ” ì´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ê³ , PDLì„ ë”°ë¡œ ì‘ì„±í•´ì•¼í•©ë‹ˆë‹¤. 
ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ DataHub ê°œë°œìë“¤ì€ Pegasusë¡œë§Œ ìŠ¤í‚¤ë§ˆ(PDL)ë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. ì´í›„ì— avro ìŠ¤í‚¤ë§ˆê°€ í•„ìš”í•  ë•Œë§ˆë‹¤, ìŠ¤í‚¤ë§ˆë¥¼ ìƒì„±í•˜ëŠ” task(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;pegasus.main.generationModes&lt;/code&gt;)ë¥¼ ì´ìš©í•´ì„œ Avro Schema íŒŒì¼(avsc)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ° êµ¬ì¡°ë¥¼ ê°€ì§€ê²Œ ë˜ë©´, ê²°ê³¼ì ìœ¼ë¡œ í”„ë¡œì íŠ¸ì˜ ì „ì²´ êµ¬ì¡°ë¥¼ ë³¼ ë•Œ, PDL í•œê°€ì§€ë§Œ ìˆ˜ì •í•˜ë©´ Kafkaì—ì„œ ì‚¬ìš©í•˜ëŠ” avsc íŒŒì¼ê³¼ Pythonì—ì„œ ì‚¬ìš©í•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;schema_classes.py&lt;/code&gt;ëŠ” ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ì•„í‚¤í…ì³ë¥¼ ê°–ìŠµë‹ˆë‹¤. ê´€ë¦¬ í¬ì¸íŠ¸ê°€ í•œê°€ì§€ë¡œë§Œ ì¤„ì–´ë“œëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/python/meta-schema-flow.png&quot; alt=&quot;flow-chart&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;ìŠ¤í‚¤ë§ˆ-ê³µìœ sharing-schema&quot;&gt;ìŠ¤í‚¤ë§ˆ ê³µìœ (Sharing Schema)&lt;/h4&gt;

&lt;p&gt;ì´ëŸ° ì‚¬ë¡€ê°€ ìˆëŠ”ì§€ StackOverflowì— ê²€ìƒ‰ì„ í•´ë´¤ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://stackoverflow.com/questions/69919046/how-to-share-avro-schema-between-different-microservices&quot;&gt;How to share avro schema between different microservices?&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ìœ„ í¬ìŠ¤íŠ¸ì˜ ì§ˆë¬¸ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;avro ìŠ¤í‚¤ë§ˆ(avsc)ë¥¼ ì‚¬ìš©í•˜ê³  ìˆëŠ”ë°, ë‹¤ë¥¸ ê¸°ìˆ  ìŠ¤íƒ(kotlin)ì„ ì‚¬ìš©í•˜ëŠ” íŒ€ì—ê²Œ ì´ê±¸ ê³µìœ í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ë°©ë²•ì´ ìˆì„ê¹Œìš”?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ìœ„ ì§ˆë¬¸ì€ kotlinê³¼ ê³µìœ í•˜ê¸° ìœ„í•œ ë°©ë²•ì„ ë¬»ê³  ìˆê¸° ë•Œë¬¸ì— ë‹µë³€ë“¤ì€ maven buildë¥¼ ì´ìš©í•  ê²ƒì„ ê¶Œì¥í•©ë‹ˆë‹¤. ì¦‰, ìˆ˜ë™ìœ¼ë¡œ(manually) ìŠ¤í‚¤ë§ˆ íŒŒì¼ì„ í•˜ë‚˜í•˜ë‚˜ í´ë˜ìŠ¤ë¡œ ì˜®ê¸°ëŠ” ê²ƒì€ ì ˆëŒ€ í•´ì„œëŠ” ì•ˆë˜ê³  DataHubì²˜ëŸ¼ ìë™ìœ¼ë¡œ ë¹Œë“œí•  ìˆ˜ ìˆëŠ” ë°©ë²•ì„ ë§ˆë ¨í•´ì•¼í•œë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;DataHubëŠ” gradleì„ í†µí•´ ì´ë¥¼ ìë™í™”í•˜ì˜€ê³ , mavenì„ í†µí•´ avscë¡œë¶€í„° í´ë˜ìŠ¤ë¥¼ ìë™ìœ¼ë¡œ ìƒì„±í•˜ëŠ” ë°©ë²•ì€ &lt;a href=&quot;https://github.com/zolyfarkas/avro-schema-examples&quot;&gt;avro-schema-examples&lt;/a&gt;ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì •ë¦¬&quot;&gt;ì •ë¦¬&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;avro schemaë¥¼ python í´ë˜ìŠ¤ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;avro, avrogen&lt;/code&gt; íŒ¨í‚¤ì§€ë¥¼ ì´ìš©í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê°œë°œ ì‹œì— ì„œë¡œ ë‹¤ë¥¸ ê¸°ìˆ  ìŠ¤íƒì—ì„œ ê³µí†µ ìŠ¤í‚¤ë§ˆë¥¼ ê³µìœ í•˜ëŠ” ì•„í‚¤í…ì³ëŠ” (ë‹¹ì—°íˆ) ì¡´ì¬í•œë‹¤.&lt;/li&gt;
  &lt;li&gt;avro schemaë¥¼ ê³µìœ í•˜ê¸° ìœ„í•œ ë°©ë²•ì€ gradle, mavenê³¼ ê°™ì€ ë¹Œë“œ íˆ´ì„ í†µí•´ ë°˜ë“œì‹œ ìë™í™”ë˜ì–´ì•¼ í•œë‹¤.&lt;/li&gt;
&lt;/ul&gt;</content>

      
      
      
      
      

      <author>
          <name>GyuhoonK</name>
        
        
      </author>

      

      
        <category term="python" />
      

      
        <summary type="html">DataHubì—ì„œ avro schema íŒŒì¼(avsc)ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">jaydebeapi - Class not found Error</title>
      <link href="https://gyuhoonk.github.io/jaydebeapi_class_not_found" rel="alternate" type="text/html" title="jaydebeapi - Class not found Error" />
      <published>2023-03-25T22:30:00+09:00</published>
      <updated>2023-03-25T22:30:00+09:00</updated>
      <id>https://gyuhoonk.github.io/jaydebeapi_class_not_found</id>
      <content type="html" xml:base="https://gyuhoonk.github.io/jaydebeapi_class_not_found">&lt;p&gt;jaydebeapië¡œ DB ì—°ê²° ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;TypeError: Class not found&lt;/code&gt; ì›ì¸ íŒŒì•…&lt;/p&gt;

&lt;h3 id=&quot;ì—ëŸ¬-ë¡œê·¸&quot;&gt;ì—ëŸ¬ ë¡œê·¸&lt;/h3&gt;

&lt;p&gt;Oracleì™€ì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;connector&lt;/code&gt; ìƒì„±ì„ ìœ„í•´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ì—¬ ì‹¤í–‰í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jclassname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;oracle.jdbc.driver.OracleDriver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbc:oracle://host:port/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ojdb6.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì‹¤í–‰ ì‹œ ì•„ë˜ì™€ ê°™ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jclassname&lt;/code&gt;ì„ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ë‚´ìš©ì˜ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤(Class not found).&lt;/p&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Traceback (most recent call last):
  File &quot;connector.py&quot;, line 46, in &amp;lt;module&amp;gt;
    conn = jaydebeapi.connect(
  File &quot;/usr/bin/python3/site-packages/jaydebeapi/__init__.py&quot;, line 412, in connect
    jconn = _jdbc_connect(jclassname, url, driver_args, jars, libs)
  File &quot;/usr/bin/python3/site-packages/jaydebeapi/__init__.py&quot;, line 221, in _jdbc_connect_jpype
    jpype.JClass(jclassname)
  File &quot;/usr/bin/python3/site-packages/jpype/_jclass.py&quot;, line 99, in __new__
    return _jpype._getClass(jc)
TypeError: Class oracle.jdbc.driver.OracleDriver is not found
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ì›ì¸-íŒŒì•…ì„-ìœ„í•œ-trial-and-error&quot;&gt;ì›ì¸ íŒŒì•…ì„ ìœ„í•œ trial and error&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;jar file&lt;br /&gt;
&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jclassname&lt;/code&gt;, ì¦‰ ì‹¤í–‰í•  í´ë˜ìŠ¤ë¥¼ java ê²½ë¡œì—ì„œ ì°¾ì§€ ëª»í–ˆë‹¤ëŠ” ì´ì•¼ê¸°ì´ë¯€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jars&lt;/code&gt;ë¡œ ì „ë‹¬í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ojdb6.jar&lt;/code&gt;ì„ ì˜ì‹¬í–ˆìŠµë‹ˆë‹¤. 1) jar íŒŒì¼ ë‚´ì— í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜, 2) ì œê°€ jarsë¥¼ ì…ë ¥í•˜ëŠ” ê³¼ì •ì—ì„œ ì˜¤íƒ€ê°€ ìˆì—ˆì„ ìˆ˜ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. 
ë¨¼ì €, jar íŒŒì¼ ë‚´ì— í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í–ˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jar tf ojdb6.jar | &lt;span class=&quot;nb&quot;&gt;grep &lt;/span&gt;OracleDriver
oracle/jdbc/driver/OracleDriver.class
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì•„ì‰½ê²Œë„(?) jaríŒŒì¼ ë‚´ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;oracle.jdbc.driver.OracleDriver&lt;/code&gt; í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ë˜í•œ ì œê°€ jarsíŒŒì¼ ì´ë¦„(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ojdb6.jar&lt;/code&gt;)ì„ ì…ë ¥í•˜ëŠ” ê³¼ì •ì—ì„œ ë¬¸ì œê°€ ìˆì—ˆë˜ ê²ƒë„ ì•„ë‹ˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;java path / jdk version&lt;br /&gt;
Java ë²„ì „ì˜ ì˜ì¡´ì„± ë¬¸ì œì¼ ìˆ˜ë„ ìˆë‹¤ê³  ìƒê°í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ M1 ì¹©ì…‹ì˜ ë§¥ë¶ì„ ì‚¬ìš© ì¤‘ì´ë¼ì„œ ì•„ë˜ì™€ ê°™ì´ Zulu javaë¥¼ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JAVA_HOME&lt;/code&gt;ë„ ì •ìƒì ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;java &lt;span class=&quot;nt&quot;&gt;--version&lt;/span&gt;
openjdk 15.0.10 2023-01-17
OpenJDK Runtime Environment Zulu15.46+17-CA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;build 15.0.10+5-MTS&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
OpenJDK 64-Bit Server VM Zulu15.46+17-CA &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;build 15.0.10+5-MTS, mixed mode&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$JAVA_HOME&lt;/span&gt;
/Users/user/zulu15.46.17-ca-jdk15.0.10-macosx_aarch64/zulu-15.jdk/Contents/Home
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;jar íŒŒì¼ì„ ì••ì¶•í•´ì œí•˜ì—¬  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;META-INF/MANIFEST.MF&lt;/code&gt; ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. odjbcëŠ” oracle í™ˆí˜ì´ì§€ì—ì„œ ì§ì ‘ ë²„ì „ ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆì–´ì„œ ë¶ˆí•„ìš”í•˜ê¸´ í•©ë‹ˆë‹¤. hive jdbcë¡œ ì˜ˆë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤. clouderaì—ì„œ ë°°í¬í•œ HiveJDBC42ì˜ ë¹Œë“œì—ì„œ ì‚¬ìš©ëœ jdk ë²„ì „ì€ 1.8ì´ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;jar xvf HiveJDBC42-2.6.11.1014.jar &lt;span class=&quot;c&quot;&gt;# jar íŒŒì¼ ì••ì¶• í•´ì œ&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;cat &lt;/span&gt;META-INF/MANIFEST.MF 
Manifest-Version: 1.0
Archiver-Version: Plexus Archiver
Built-By: SYSTEM
Created-By: Apache Maven 3.3.9
Build-Jdk: 1.8.0_111
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í˜„ì¬ ì„¤ì¹˜ëœ jdkëŠ” openjdk15ì´ê³ , ë¹Œë“œë¥¼ jdk1.8ë¡œ í–ˆìœ¼ë‹ˆ javaì˜ ë¬¸ì œëŠ” ì•„ë‹Œ ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h3 id=&quot;ì§„ì°Œ-ì›ì¸-jvm&quot;&gt;ì§„ì°Œ ì›ì¸: JVM&lt;/h3&gt;
&lt;p&gt;ì…‹íŒ…ì˜ ë¬¸ì œëŠ” ì•„ë‹ˆë¼ëŠ” ê±¸ íŒŒì•…í–ˆê³ , ì´ë²ˆì—ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jaydebeapi&lt;/code&gt; ë‚´ë¶€ ì½”ë“œë¥¼ ì‚´í´ë³´ì•˜ìŠµë‹ˆë‹¤. jaydebeapiëŠ” ë‚´ë¶€ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jpype&lt;/code&gt; ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì´ìš©í•˜ì—¬ JVMì„ ì‹¤í–‰í•˜ê³ , JVM ë‚´ì—ì„œ ì „ë‹¬ë°›ì€ jaríŒŒì¼ì˜ í´ë˜ìŠ¤ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì•„ë˜ ì½”ë“œëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jaydebeapi&lt;/code&gt;ì—ì„œ JVM ì…‹íŒ…(classpath, librarypath, driver_args)ì„ í•˜ê³ , JVMì„ ì‹œì‘í•©ë‹ˆë‹¤. ê·¸ëŸ°ë°, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;if not jpype.isJVMStarted()&lt;/code&gt; ì¡°ê±´ ë•Œë¬¸ì— ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ JVMì´ ìˆëŠ” ê²½ìš°ì—ëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì‹¤í–‰ë˜ê³  ìˆëŠ” JVMì´ ì—†ëŠ” ê²½ìš°ì—ë§Œ connect ê°ì²´ ìƒì„±ì„ ìœ„í•´ ì „ë‹¬í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;jars&lt;/code&gt;ê°€ JVMì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Djava.libaray.path&lt;/code&gt;ì— í¬í•¨ë  ìˆ˜ ìˆëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;_jdbc_connect_jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jclassname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver_args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;libs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;jpype&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isJVMStarted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;class_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;class_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;class_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_get_classpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;class_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'-Djava.class.path=%s'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pathsep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;libs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# path to shared libraries
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;libs_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pathsep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'-Djava.library.path=%s'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;libs_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# jvm_path = ('/usr/lib/jvm/java-6-openjdk'
&lt;/span&gt;        &lt;span class=&quot;c1&quot;&gt;#             '/jre/lib/i386/client/libjvm.so')
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;jvm_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getDefaultJVMPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;old_jpype&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;hasattr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'__version__'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;ver_match&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;re&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'\d+\.\d+'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__version__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ver_match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                    &lt;span class=&quot;n&quot;&gt;jpype_ver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ver_match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jpype_ver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;old_jpype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ValueError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;old_jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startJVM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jvm_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startJVM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jvm_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ignoreUnrecognized&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                           &lt;span class=&quot;n&quot;&gt;convertStrings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë”°ë¼ì„œ, jpypeì— ì˜í•´ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ JVMì´ ì¡´ì¬í•œë‹¤ë©´, oracle connectorë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ ì „ë‹¬í•œ jar íŒŒì¼ì€ ì–´ë””ì—ë„ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. í”„ë¡œê·¸ë˜ë¨¸ëŠ” ë³€ìˆ˜ë¥¼ ì…ë ¥í–ˆì§€ë§Œ, ì½”ë“œ ë‚´ë¶€ì—ì„œëŠ” í•´ë‹¹ ë³€ìˆ˜ê°€ ì–´ë–¤ ê³³ì—ì„œë„ ì‚¬ìš©ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš°ì— JVMì— í•´ë‹¹ jar íŒŒì¼ì´ ì—†ìœ¼ë¯€ë¡œ, Class not foundê°€ ë°œìƒí•˜ëŠ” ê²ƒë„ ì´í•´ê°€ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì‹¤ì œë¡œ, ì œê°€ ì‘ì„± ì¤‘ì¸ ì½”ë“œì—ì„œ oracle connectorë¥¼ ìƒì„±í•˜ê¸° ì „ì— mysql dbì™€ ì—°ê²°í•˜ê¸° ìœ„í•œ ë‹¤ë¥¸ connectorë¥¼ ì´ë¯¸ ìƒì„±í•´ë†“ê³  ìˆì—ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ì•„ë˜ì™€ ê°™ì€ ì´ìœ ë¡œ Class not found ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;jpype&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jclassname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;com.mysql.jdbc.Driver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbc:mysql://host:port/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;mysql-connector-java-5.1.45.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;is JVM already started? &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isJVMStarted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ì¶œë ¥ ê²°ê³¼: is JVM already started? True
# ì´ ìƒíƒœì—ì„œ ì‹¤í–‰ ì¤‘ì¸ JVMì˜ Djava.class.path(CLASSPATH)ì—ëŠ” mysql-connector-java-5.1.45.jarë§Œ ì¡´ì¬
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jclassname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;oracle.jdbc.driver.OracleDriver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbc:oracle://host:port/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ojdb6.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ì´ë¯¸ JVMì´ ì‹¤í–‰ ì¤‘ì´ë¯€ë¡œ jpypeë¡œ JVMì„ ì‹œì‘í•˜ëŠ” ì‘ì—…ì„ ìˆ˜í–‰í•˜ì§€ ì•ŠëŠ”ë‹¤.
# ë”°ë¼ì„œ JVMì˜ CLASSPATHì—ëŠ” mysql-connector-java-5.1.45.jarë§Œ ì¡´ì¬í•˜ë¯€ë¡œ, OracleDriver í´ë˜ìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/baztian/jaydebeapi/issues/85#issuecomment-442851010&quot;&gt;jaydebeapi github&lt;/a&gt;ë¥¼ ë“¤ì–´ê°€ì„œ ì‚´í´ë³´ë‹ˆ ì €ì™€ ë™ì¼í•œ í˜„ìƒì— ëŒ€í•œ ì–¸ê¸‰ì´ ìˆì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Also, if you are pulling from multiple database connections, ie. making multiple jaydebeapi.connect() calls, the jars parameter in your first connection call must contain all of the paths to your jdbc jar files. Any jar parameter in subsequent connect() calls seems to be ignored.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;ul&gt;
  &lt;li&gt;ê·¸ëƒ¥ JVMì„ shutdowní–ˆë‹¤ê°€ ì¬ì‹œì‘í•˜ë©´ ì•ˆë ê¹Œ?&lt;br /&gt;
jpypeëŠ” JVMì„ ì¢…ë£Œ(shutdown)í•˜ëŠ” APIë„ ì œê³µí•©ë‹ˆë‹¤.
    &lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;startJVM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shutdownJVM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ê·¸ë ‡ë‹¤ë©´ ë‘ë²ˆì§¸ connectorë¥¼ ìƒì„±í•˜ê¸° ì „ì— JVMì„ ì¢…ë£Œí•˜ë©´ jar íŒŒì¼ì„ ë‹¤ì‹œ ì—…ë¡œë“œí•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;connector1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shutdownJVM&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;connector2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í•˜ì§€ë§Œ, ì•„ì‰½ê²Œë„ jpypeëŠ” JVMì„ shutdowní•˜ë©´ ì¬ê°€ë™í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;This method shuts down the JVM and disables access to existing Java objects. Due to limitations in the JPype, it is not possible to restart the JVM after being terminated.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ë”°ë¼ì„œ ìœ„ì™€ ê°™ì´ ì‹¤í–‰ ì‹œì—ëŠ” ì—ëŸ¬(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;OSError: JVM cannot be restarted&lt;/code&gt;)ê°€ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;OSError: JVM cannot be restarted
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;í•´ê²°ì±…&quot;&gt;í•´ê²°ì±…&lt;/h3&gt;
&lt;p&gt;ë”°ë¼ì„œ ìœ„ ì½”ë“œê°€ ë™ì‘í•˜ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì²«ë²ˆì§¸ connect ìƒì„± ì‹œì— ëª¨ë“  jar íŒŒì¼ì„ ì¶”ê°€í•´ì£¼ì–´ì•¼í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jclassname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;com.mysql.jdbc.Driver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbc:mysql://host:port/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;mysql-connector-java-5.1.45.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ojdb6.jar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;is JVM already started? &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jpype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isJVMStarted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ì¶œë ¥ ê²°ê³¼: is JVM already started? True
# ì´ ìƒíƒœì—ì„œ ì‹¤í–‰ ì¤‘ì¸ JVMì˜ Djava.libaray.path(CLASSPATH)ì—ëŠ” mysql-connector-java-5.1.45.jarì™€ ojdb6.jarê°€ ì¶”ê°€ë¨
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jaydebeapi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jclassname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;oracle.jdbc.driver.OracleDriver&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;jdbc:oracle://host:port/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;jars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;ojdb6.jar&quot;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ì´ë¯¸ JVMì— í•´ë‹¹ jarê°€ ì¶”ê°€ë˜ì—ˆê³ , ë‘ë²ˆì§¸ connect()ë¶€í„°ëŠ” í•´ë‹¹ ì˜µì…˜ì€ ë¬´ì‹œë˜ë¯€ë¡œ ì¶”ê°€í•˜ì§€ ì•Šì•„ë„ ëœë‹¤
&lt;/span&gt;                        &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ì´ë¯¸ ì‹¤í–‰ë˜ê³  ìˆëŠ” JVMì—ì„œ connectorë¥¼ ìƒì„±í•œë‹¤
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;[ì°¸ê³ ]&lt;br /&gt;
&lt;a href=&quot;https://github.com/baztian/jaydebeapi/issues/85#issuecomment-442851010&quot;&gt;jaydebeapi github issues#85&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://jpype.readthedocs.io/en/latest/api.html&quot;&gt;jpype Document&lt;/a&gt;&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>GyuhoonK</name>
        
        
      </author>

      

      
        <category term="python" />
      

      
        <summary type="html">jaydebeapië¡œ DB ì—°ê²° ì‹œ TypeError: Class not found ì›ì¸ íŒŒì•…</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">ë³€ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” decorator</title>
      <link href="https://gyuhoonk.github.io/decorator" rel="alternate" type="text/html" title="ë³€ìˆ˜ë¥¼ ì „ë‹¬í•˜ëŠ” decorator" />
      <published>2023-03-18T22:30:00+09:00</published>
      <updated>2023-03-18T22:30:00+09:00</updated>
      <id>https://gyuhoonk.github.io/decorator</id>
      <content type="html" xml:base="https://gyuhoonk.github.io/decorator">&lt;p&gt;ë³€ìˆ˜ë¥¼ ìƒì„±í•´ í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë°ì½”ë ˆì´í„° ë§Œë“¤ê¸°&lt;/p&gt;

&lt;h2 id=&quot;decoratorë¥¼-ì‚¬ìš©í•˜ê³ -ì‹¶ì—ˆë˜-ì´ìœ &quot;&gt;decoratorë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ì—ˆë˜ ì´ìœ &lt;/h2&gt;
&lt;p&gt;ìš”ì¦˜ ì‘ì—… ì¤‘ì¸ ì—…ë¬´ ì¤‘ì—, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;connection&lt;/code&gt;ì„ ì„ ì–¸í•œ ë’¤ í•´ë‹¹ ì»¤ë„¥ì…˜ ê°ì²´ë¥¼ ì´ìš©í•˜ì—¬ ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ì‘ì—…ì„ ë§ì´ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´, DBì™€ ì—°ê²°í•˜ëŠ” connectionë¥¼ í•¨ìˆ˜ë‚´ì—ì„œ ì„ ì–¸í•˜ê³  ì´ë¥¼ ì´ìš©í•´ì„œ ì‘ì—…í•˜ëŠ” ì‹ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pyhive&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hive-host'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'default'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ë¬´ì—‡ì¸ê°€ ì‘ì—…ì„ ì‘ì„±í•¨ #
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê·¸ëŸ°ë° ìœ„ì™€ ê°™ì€ í•¨ìˆ˜ë¥¼ ê½¤ë‚˜ ë§ì´ ì‘ì„±í•´ì•¼í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ë§¤ë²ˆ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•Œë§ˆë‹¤ í•¨ìˆ˜ ë‚´ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì„ ì„ ì–¸í•´ì•¼í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hive-host'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'default'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ë¬´ì—‡ì¸ê°€ ì‘ì—…ì„ ì‘ì„±í•¨ #
&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hive-host'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                           &lt;span class=&quot;n&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'default'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# ë¬´ì—‡ì¸ê°€ ì‘ì—…ì„ ì‘ì„±í•¨ #
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ì‘ì„±í•  ë•Œë§ˆë‹¤ ë™ì¼í•œ ì½”ë“œ(connì„ ì„ ì–¸)ë¥¼ ì‘ì„±í•´ì•¼í–ˆë‹¤
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í´ë˜ìŠ¤ë¥¼ ì„ ì–¸í•˜ê³  í´ë˜ìŠ¤ ì»¤ë„¥ì…˜ ê°ì²´ë¥¼ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜ë¡œ ì„ ì–¸í•´ë†“ì€ ë’¤ ìœ„ì—ì„œ ì„ ì–¸í•œ í•¨ìˆ˜ë¥¼ ë©”ì†Œë“œë¡œ ë§Œë“¤ë©´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì„ ì—¬ëŸ¬ë²ˆ ì„ ì–¸í•´ì•¼í•˜ëŠ” ë¬¸ì œê°€ í•´ê²°ë  ìˆ˜ ìˆê¸´í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HiveJob&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hive-host'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'default'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SELECT * FROM TABLE1&quot;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_sql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DROP TABLE TABLE1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ê²ƒì´ í•´ê²°ì±…ì´ ë  ìˆ˜ë„ ìˆì§€ë§Œ ì œê°€ ì›í•˜ëŠ” ë°©í–¥ê³¼ëŠ” ë§ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì²«ë²ˆì§¸ ì´ìœ ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func1, func2&lt;/code&gt;ì™€ ê°™ì€ í•¨ìˆ˜ê°€ ë‹¤ë¥¸ ì½”ë“œì—ì„œëŠ” ì‚¬ìš©ë˜ì§€ ì•Šê³  ì „ì²´ ì½”ë“œ ì‹¤í–‰ ì¤‘ì— ê±°ì˜ 1íšŒ ì •ë„ë§Œ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— í´ë˜ìŠ¤ì— ì í•©í•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ìƒê°í–ˆê¸° ë•Œë¬¸ì´ê³ , ë‘ë²ˆì§¸ëŠ” ì´ë ‡ê²Œ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ë¡œ ëª¨ìœ¼ê¸°ì—ëŠ” ì´ë¯¸ í•¨ìˆ˜ê°€ ë„ˆë¬´ë‚˜ë„ ë§ì´ ì‘ì„±ë˜ì–´ìˆëŠ” ìƒíƒœì˜€ê¸°ë•Œë¬¸ì…ë‹ˆë‹¤. ê·¸ë ‡ë‹¤ê³  ì§€ê¸ˆê¹Œì§€ ì‘ì„±ëœ í•¨ìˆ˜ëŠ” ê·¸ëŒ€ë¡œ ë‘ê³ , ì•ìœ¼ë¡œ ì‘ì„±í•˜ë ¤ëŠ” í•¨ìˆ˜ë§Œ í´ë˜ìŠ¤ì— ëª¨ì•„ì„œ ë©”ì„œë“œë¡œ ê´€ë¦¬í•˜ê²Œë˜ë©´ ì´ì „ì— ì‘ì„±ëœ í•¨ìˆ˜ëŠ” ì½”ë“œ ë‚´ì— í•¨ìˆ˜ë¡œ ë‚¨ê³ , ì•ìœ¼ë¡œ ì‘ì„±ë˜ëŠ” í•¨ìˆ˜ë§Œ í´ë˜ìŠ¤ ë‚´ ë©”ì„œë“œë¡œ ê´€ë¦¬ë˜ëŠ” ì´ìƒí•œ ìƒí™©ì´ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h2 id=&quot;decoratorë¡œ-ë°˜ë³µë˜ëŠ”-ì½”ë“œë¥¼-ì—†ì• ì&quot;&gt;decoratorë¡œ ë°˜ë³µë˜ëŠ” ì½”ë“œë¥¼ ì—†ì• ì&lt;/h2&gt;
&lt;p&gt;ìœ„ì™€ ê°™ì€ ì´ìœ ë¡œ (ë¯¸ë¦¬ ì´ëŸ¬í•œ ìƒí™©ì„ ì˜ˆìƒí•˜ì§€ ëª»í•œ íƒ“ì—), ëŒ€ì²´í•  ë°©ë²•ìœ¼ë¡œ ì•ìœ¼ë¡œë„ í•¨ìˆ˜ë¡œ ì‘ì„±í•˜ë˜ ì¤‘ë³µë˜ëŠ” ì½”ë“œë¥¼ ì¤„ì¼ ë°©ë²•ì„ ê³ ë¯¼í–ˆìŠµë‹ˆë‹¤. decoratorë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤. decoratorê°€ pythonì— ë„ì…ëœ ì´ìœ ëŠ” í•¨ìˆ˜ë¥¼ ì •ì˜í•œ ì´í›„ì— í•„ìš”í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì§€ ì•Šê³ , ì •ì˜ì™€ ë™ì‹œì— í•„ìš”í•œ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤.&lt;br /&gt;
PEP-318ì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ ì˜ˆì‹œë¡œ ë°ì½”ë ˆì´í„°ì˜ í¸ë¦¬ì„±ì„ ì„¤ëª…í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;synchronized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;classmethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;### foo í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œ ë’¤, í•„ìš”í•œ ê¸°ëŠ¥(sync, class) ì¶”ê°€ë¥¼ ìœ„í•´ 2ì¤„ì´ ë” ë¶™ìŠµë‹ˆë‹¤
### foo í•¨ìˆ˜ ì •ì˜ë¥¼ ìœ„í•´ fooë¥¼ 3ë²ˆì´ë‚˜ ë” ì ì–´ì•¼í•©ë‹ˆë‹¤
&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;classmethod&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;synchronized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;### ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•˜ë©´ í•¨ìˆ˜ ì„ ì–¸ë§Œìœ¼ë¡œ ê¸°ëŠ¥ ì¶”ê°€ë„ ì™„ë£Œë©ë‹ˆë‹¤
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì œ ìƒí™©ì— ëŒ€ì…í•˜ì—¬ ìƒê°í•´ë³´ë‹ˆ ì¶”ê°€í•˜ê³ ì í•˜ëŠ” ê¸°ëŠ¥ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt; ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì´ê³  í•¨ìˆ˜ ë‚´ë¶€ëŠ” ì»¤ë„¥ì…˜ì„ ì´ìš©í•œ ë™ì‘ë§Œ í•„ìš”í–ˆìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•œë‹¤ë©´ ì•„ë˜ì™€ ê°™ì€ í¬ë§·ì„ ìƒê°í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_connection&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SELECT * FROM TABLE1&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_sql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_connection&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DROP TABLE TABLE1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;@get_connection&lt;/code&gt;ë§Œ ìˆìœ¼ë©´ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì´ë¼ëŠ” ì´ë¦„ì˜ ì»¤ë„¥ì…˜ ê°ì²´ê°€ ìƒì„±ë˜ê³  ì´ë¥¼ ì´ìš©í•˜ì—¬ ë™ì‘í•˜ëŠ” ë¶€ë¶„ì˜ ì½”ë“œë§Œ ì‘ì„±í•˜ê³  ì‹¶ì—ˆìŠµë‹ˆë‹¤! ìœ„ì™€ ê°™ì€ ì‚¬ìš© ì‚¬ë¡€ë¥¼ ì•„ì§ ë³¸ ì ì€ ì—†ì—ˆì§€ë§Œ ì™ ì§€ ê°€ëŠ¥í•  ê²ƒ ê°™ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_connection&lt;/code&gt; ë°ì½”ë ˆì´í„°ë¥¼ ì‘ì„±í•´ë³´ì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;get_connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;wrapper&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;host&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'hive-host'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;port&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'username'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'password'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                               &lt;span class=&quot;n&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'default'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;func&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wrapper&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_connection&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;SELECT * FROM TABLE1&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_sql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_connection&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DROP TABLE TABLE1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func1, func2&lt;/code&gt;ëŠ” í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì»¤ë„¥ì…˜ ê°ì²´(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;)ë¥¼ ìƒì„±í•˜ì§€ëŠ” ì•Šì§€ë§Œ, ë°ì½”ë ˆì´í„° &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;get_connection&lt;/code&gt;ì˜ wrapperì—ì„œ ìƒì„±í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì„ ì „ë‹¬ë°›ìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì„ ì „ë‹¬ë°›ê¸° ìœ„í•´ í•¨ìˆ˜ì— ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. ë°ì½”ë ˆì´í„° ë¬¸ë²•ì€ ì‚¬ì‹¤ ì•„ë˜ì²˜ëŸ¼ í•¨ìˆ˜ë¥¼ ì¬ì •ì˜í•˜ëŠ” ê²ƒê³¼ ë‹¤ë¦„ ì—†ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;func1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# get_connection ë‚´ë¶€ì˜ wrapperì˜ ë¦¬í„´ì´ ìµœì¢…ì ìœ¼ë¡œ ë¦¬í„´ëœë‹¤
# ë”°ë¼ì„œ return result ê°€ ì—†ìœ¼ë©´, Noneì„ ë¦¬í„´í•œë‹¤
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë”°ë¼ì„œ, í•¨ìˆ˜(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;func&lt;/code&gt;)ì˜ ë¦¬í„´(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;result&lt;/code&gt;)ì„ ë¦¬í„´í•´ì£¼ì§€ ì•Šìœ¼ë©´ ê°’ì„ ë°ì½”ë ˆì´í„° ìˆ˜ì‹ì„ ë°›ì€ í•¨ìˆ˜ì˜ ë¦¬í„´ì´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;None&lt;/code&gt;ì´ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;wrapperëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;*args, **kwargs&lt;/code&gt;ë¡œ ë°ì½”ë ˆì´í„° ìˆ˜ì‹ì„ ë°›ëŠ” í•¨ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ì „ë‹¬ë°›ì•„ ë‹¤ì‹œ funcì— ì „ë‹¬í•˜ë¯€ë¡œ, ì•„ë˜ì™€ ê°™ì´ ë³€ìˆ˜ë¥¼ ì…ë ¥í•´ì•¼í•˜ëŠ” í•¨ìˆ˜ì—ë„ ë°ì½”ë ˆì´í„°ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_connection&lt;/span&gt; 
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;drop_table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;execute&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sa&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;DROP TABLE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;ì•„ì‰¬ìš´-ì &quot;&gt;ì•„ì‰¬ìš´ ì &lt;/h3&gt;
&lt;p&gt;í•¨ìˆ˜ ì„ ì–¸ ì‹œì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°˜ë“œì‹œ ì¶”ê°€í•´ì•¼í•œë‹¤ëŠ” ì ì´ ì•„ì‰½ìŠµë‹ˆë‹¤. ë°ì½”ë ˆì´í„°ë¥¼ ë¶™ì´ê¸°ë§Œ í•˜ë©´, í•¨ìˆ˜ ë‚´ë¶€ì— ì–´ë–¤ ë³€ìˆ˜(ê°ì²´)ê°€ ìƒì„±ë˜ë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì€ ë¶ˆê°€ëŠ¥í•œê±¸ê¹Œìš”? ìœ„ì—ì„œ ì˜ˆì‹œë¡œ ë“¤ì—ˆë˜ í´ë˜ìŠ¤ë¡œ êµ¬í˜„í•˜ëŠ” ê²½ìš°ì—ëŠ” ë©”ì†Œë“œê°€ ì¸ìŠ¤í„´ìŠ¤ ë³€ìˆ˜(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.conn&lt;/code&gt;)ì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ ë§¤ê°œë³€ìˆ˜ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt;ì„ ë°›ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;## ë©”ì†Œë“œëŠ” self.connì— ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥í•˜ë¯€ë¡œ ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš” ì—†ë‹¤
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## ë°ì½”ë ˆì´í„°ì—ì„œ ìƒì„±í•œ connì„ ì „ë‹¬ë°›ê¸° ìœ„í•´ ë§¤ê°œë³€ìˆ˜ê°€ í•„ìš”í•˜ë‹¤
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;func1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;conn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cursor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt; í•˜ë‚˜ ë„£ëŠ”ê²Œ ë­ê°€ ë¶ˆí¸í•˜ë‹¤ê³ , ë¼ê³  ìƒê°í•˜ì‹¤ ìˆ˜ë„ ìˆì§€ë§Œ ì§€ê¸ˆê¹Œì§€ ì‘ì„±ëœ í•¨ìˆ˜ë“¤ì— &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;conn&lt;/code&gt; ê°ì²´ ì„ ì–¸ì„ ì‚­ì œí•˜ê³ , ë°ì½”ë ˆì´í„°ë¥¼ ì¶”ê°€í•˜ë ¤ê³  í–ˆë”ë‹ˆ ë§¤ê°œë³€ìˆ˜ë¥¼ ì¶”ê°€í•´ì•¼í•œë‹¤ëŠ” ê±´ ê½¤ë‚˜ í° ë¶€ë‹´ì´ì—ˆìŠµë‹ˆë‹¤(ê·¸ë˜ì„œ ì¶”ê°€í•˜ì§€ ëª»í–ˆìŠµë‹ˆë‹¤..)&lt;br /&gt;
ë­”ê°€ ìŠ¤ë§ˆíŠ¸í•˜ê²Œ ì¶”ê°€í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ìˆë‹¤ë©´ ì¢‹ì„í…ë° ì¼ë‹¨ì€ í˜„ì¬ë¡œì„œë„ ì œê°€ ì›í–ˆë˜ ê¸°ëŠ¥ì€ êµ¬í˜„ì´ ëœ ê²ƒ ê°™ì•„ ì¶”ê°€ ì¡°ì‚¬ëŠ” í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;[ì°¸ê³ ]&lt;br /&gt;
&lt;a href=&quot;https://peps.python.org/pep-0318/&quot;&gt;PEP 318 â€“ Decorators for Functions and Methods&lt;/a&gt;&lt;br /&gt;
&lt;a href=&quot;https://dojang.io/mod/page/view.php?id=2427&quot;&gt;ë°ì½”ë ˆì´í„° ë§Œë“¤ê¸°&lt;/a&gt;&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>GyuhoonK</name>
        
        
      </author>

      

      
        <category term="python" />
      

      
        <summary type="html">ë³€ìˆ˜ë¥¼ ìƒì„±í•´ í•¨ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” ë°ì½”ë ˆì´í„° ë§Œë“¤ê¸°</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">Threading in Python</title>
      <link href="https://gyuhoonk.github.io/threading-in-python" rel="alternate" type="text/html" title="Threading in Python" />
      <published>2021-11-01T22:30:00+09:00</published>
      <updated>2021-11-01T22:30:00+09:00</updated>
      <id>https://gyuhoonk.github.io/threading-in-python</id>
      <content type="html" xml:base="https://gyuhoonk.github.io/threading-in-python">&lt;p&gt;Python - Thread, Mutex, Semaphore&lt;/p&gt;

&lt;h1 id=&quot;threadë€-&quot;&gt;Threadë€ ?&lt;/h1&gt;

&lt;p&gt;ê°„ë‹¨í•˜ê²Œ, í•˜ë‚˜ì˜ Process ë‚´ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ì‘ì—…ì„ ì‹¤í–‰í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ëŠ” ê²ƒì„ threadë¼ê³  í•©ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ ProcessëŠ” í•˜ë‚˜ì˜ ì‘ì—…ë§Œì„ CPUì—ì„œ ì‹¤í–‰í•˜ë„ë¡ êµ¬í˜„ë˜ì§€ë§Œ, Threadë¥¼ ì„ ì–¸í•˜ì—¬ í•˜ë‚˜ì˜ Processê°€ ì—¬ëŸ¬ ê°œì˜ Processì²˜ëŸ¼ ë™ì‘í•˜ë„ë¡ í•©ë‹ˆë‹¤. ì´ëŠ” IPC(InterProcessCommunication)ê³¼ ë¹„ìŠ·í•œ ê°œë…ì´ì§€ë§Œ, ThreadëŠ” í•˜ë‚˜ì˜ Process ë‚´ì—ì„œ ì—¬ëŸ¬ ì‘ì—…ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒì¸ë° ë¹„í•´ IPCëŠ” ë‹¤ìˆ˜ì˜ Processê°€ ë°ì´í„°ë¥¼ ê³µìœ í•œë‹¤ëŠ” ì ì—ì„œ ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì˜ˆë¥¼ ë“¤ì–´, í•˜ë‚˜ì˜ threadëŠ” ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•˜ê³  ë‹¤ë¥¸ threadëŠ” ë°ì´í„° ì²˜ë¦¬ ê²°ê³¼ë¥¼ ì‹œê°í™”í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•œë‹¤ë©´ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ë©´ì„œ ë™ì‹œì— ì‹¤ì‹œê°„ìœ¼ë¡œ ë°ì´í„°ê°€ ì²˜ë¦¬ë˜ëŠ” ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. IPCë„ ê°™ì€ ëª©ì ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ThreadëŠ” Process ë‚´ì˜ ë©”ëª¨ë¦¬ ê³µê°„(Text(Code), Data, Heap)ì„ ê³µìœ í•˜ê¸° ë•Œë¬¸ì— Kernel Spaceë¥¼ ë‹¤ë£¨ì–´ì•¼í•˜ëŠ” IPCì— ë¹„í•´ ëœ ë³µì¡í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;Thread&lt;/th&gt;
      &lt;th&gt;IPC&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;ë©”ëª¨ë¦¬ ê³µê°„ ê³µìœ &lt;/td&gt;
      &lt;td&gt;- ê° threadëŠ” stack ì˜ì—­ì„ í• ë‹¹&lt;br /&gt;- Text, Data, Heap ì˜ì—­ì—ì„œ thread ê°„ ë°ì´í„° ê³µìœ ë¨&lt;/td&gt;
      &lt;td&gt;Kernel Spaceë§Œ ê³µìœ ë¨&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;ë©”ëª¨ë¦¬ ì‚¬ìš©&lt;/td&gt;
      &lt;td&gt;4GB ë‚´ì—ì„œ multi-thread êµ¬í˜„&lt;/td&gt;
      &lt;td&gt;(Process ê°œìˆ˜) * 4GB í•„ìš”&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;êµ¬í˜„ ë°©ë²•&lt;/td&gt;
      &lt;td&gt;Libraryë¡œ ì œê³µë¨&lt;/td&gt;
      &lt;td&gt;-Kernel Spaceë¥¼ ê²½ìœ (Pipe, Shared Memory, message queue)&lt;br /&gt;- Process Signal, Socket ì´ìš©&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h1 id=&quot;threading-in-python&quot;&gt;Threading in Python&lt;/h1&gt;

&lt;p&gt;pythonì€  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;threading&lt;/code&gt; íŒ¨í‚¤ì§€ë¥¼ í†µí•´ threadë¥¼ ê°„ë‹¨í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;10000ë²ˆì„ ì¹´ìš´íŒ…í•˜ëŠ” í•¨ìˆ˜ë¥¼ 50íšŒ ì‹¤í–‰í•˜ê³ ì í•œë‹¤ê³  ê°€ì •í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŠ” ì•„ë˜ì²˜ëŸ¼ threadë¥¼ í†µí•´ ë³‘ë ¬ë¡œ(ë™ì‹œì—) ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# threadí•  í•¨ìˆ˜ ì •ì˜
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;thread_main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    
&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thread_main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'g_count = '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# g_count = 500000
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í˜„ì¬ Process ë‚´ì—ì„œ 50ê°œì˜ threadê°€ êµ¬í˜„ë˜ì—ˆê³  ì´ë“¤ì€ 10000ë²ˆ ì¹´ìš´íŒ…í•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;thread_main&lt;/code&gt; í•¨ìˆ˜ë¥¼ ë™ì‹œì— ì‹¤í–‰í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ë²ˆì—ëŠ” 10000ë²ˆì´ ì•„ë‹ˆë¼ 1000000ë²ˆ ì¹´ìš´íŒ…í•˜ëŠ” ê²ƒìœ¼ë¡œ ë³€ê²½í•˜ì—¬ threadë¥¼ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# threadí•  í•¨ìˆ˜ ì •ì˜
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;thread_main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    
&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thread_main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'g_count = '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# g_count =  13291376
# CPU times: user 3.13 s, sys: 29.5 ms, total: 3.16 s
# Wall time: 3.14 s
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì¶œë ¥ ê²°ê³¼ê°€ 50 * 1000000 = 50000000ê°€ ë‚˜ì™€ì•¼í•  ê²ƒ ê°™ì€ë° ì „í˜€ ì´ìƒí•œ ê°’ì´ ì¶œë ¥ë˜ì—ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ëŸ¬í•œ í˜„ìƒì´ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?&lt;/p&gt;

&lt;h1 id=&quot;critical-section&quot;&gt;Critical Section&lt;/h1&gt;

&lt;p&gt;threadë“¤ì´ Process ë‚´ ë©”ëª¨ë¦¬ ê³µê°„ì„ ê³µìœ í•˜ë©´ì„œ ì´ëŸ¬í•œ ë¬¸ì œì ì´ ë°œìƒí•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ì½”ë“œë¥¼ ê°„ë‹¨í•˜ê²Œ 2ê°œ threadë¡œ ë°”ê¾¸ì–´ ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ê·¸ë¦¼ì´ ë  ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/thread-in-python-1.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ê°’ì„ registerë¡œ ì½ê³ (Read), registerì— 1ì„ ë”í•œ ë’¤(Update) í•´ë‹¹ ê°’ì„ ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ì— Writeí•´ì£¼ëŠ” ì¼ë ¨ì˜ ê³¼ì •ì„ threadë“¤ì´ ìˆ˜í–‰í•©ë‹ˆë‹¤. ì´ë•Œ í•˜ë‚˜ì˜ CPUì—ì„œëŠ” ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ Thread A - Thread Bê°€(í˜¹ì€ ë” ë§ì€ ìˆ˜ì˜ threadê°€) Contetxt Switchingì„ í†µí•´ êµì²´í•´ê°€ë©° í•´ë‹¹ ì‘ì—…ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤. í˜„ì¬ êµ¬í˜„í•œ Threadë¥¼ Read-Update-Writeë¼ê³  ìƒê°í•˜ë©´ ìœ„ì™€ ê°™ì´ ë§ì…ˆì´ ëˆ„ë½ëœ ì›ì¸ì´ ë¬´ì—‡ì¸ì§€ ì¶”ë¡ í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;Context Switchingì´ ì •ë§ ìš´ ì¢‹ê²Œë„, í•­ìƒ Writeê°€ ëë‚œ ë’¤ì— ë°œìƒí•œë‹¤ë©´ ì¢‹ê² ì§€ë§Œ ì‹¤ì œ SchedulerëŠ” ê·¸ëŸ¬í•œ ë¶€ë¶„ê¹Œì§€ ê³ ë ¤í•˜ì—¬ Switching ì‹œí‚¤ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/thread-in-python-2.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ìœ„ ê·¸ë¦¼ì²˜ëŸ¼, Update ë‹¨ê³„ ì´í›„ Writeí•˜ê¸° ì§ì „ì— Context Switchingì´ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë‹¨ê³„ë³„ë¡œ ì–´ë–¤ ì¼ì´ ë°œìƒí–ˆëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â‘  Read : Thread AëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ë¥¼ ì½ê³  registerì— ì €ì¥í•©ë‹ˆë‹¤. ( &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count = 0&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;â‘¡ Update :  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ì— 1ì„ ë”í•˜ê¸° ìœ„í•´, registerì— 1ì„ ë”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â‘¢ Read : Context Switchingì´ ë°œìƒí•˜ì—¬, Thread Aì˜ ì‘ì—… ì •ë³´ëŠ” PCBë¡œ ì €ì¥(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;register=1&lt;/code&gt;)í•˜ê³ , Thread Bë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤. ì´ì œëŠ” Thread Bê°€ ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ê°’ì„ registerë¡œ ì½ì–´ì˜µë‹ˆë‹¤.( &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count = 0&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;â‘£ Update : Thread Aì˜ ë™ì‘ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ì— 1ì„ ë”í•˜ê¸° ìœ„í•´, registerì— 1ì„ ë”í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â‘¤ Write : Context Switchingì´ ë°œìƒí•˜ì—¬ Thread Aê°€ ë‹¤ì‹œ ì‹¤í–‰ë©ë‹ˆë‹¤. PCBì—ì„œ registerê°’ì„ ì½ì–´ë“¤ì—¬ì˜µë‹ˆë‹¤(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;register = 1&lt;/code&gt;). ì´ì œ registerì˜ ê°’ì„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ì— ì ì–´ì•¼í•©ë‹ˆë‹¤. PCBì—ì„œ ì½ì–´ì˜¨ í˜„ì¬ register ê°’ì€ 1ì´ë¯€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt;ëŠ” 1ì´ ë”í•´ì¡ŒìŠµë‹ˆë‹¤. (&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count = 1&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;â‘¥ Read : ë‹¤ìŒ ì‘ì—…ì„ ìœ„í•´ ë‹¤ì‹œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ê°’ì„ registerì— ë“±ë¡í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;â‘¦ Write : Context Switchingì´ ë°œìƒí•˜ê³ , Thread Bì˜ PCBì—ì„œ registerë¥¼ ì½ìŠµë‹ˆë‹¤(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;register=1&lt;/code&gt;). ì´ë²ˆì—ëŠ” Thread Bê°€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt;ì— ê°’ì„ ì €ì¥í•©ë‹ˆë‹¤. í˜„ì¬ register ê°’ì´ 1ì´ë¯€ë¡œ 1ì„ ê·¸ëŒ€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt;ì— ì „ë‹¬í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì´ ì‹œì ì—ì„œ Thread ì‘ì—…ì€ 2ë²ˆ ì™„ë£Œë˜ì—ˆìœ¼ë¯€ë¡œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt;ëŠ” 2ê°€ ë˜ì–´ì•¼í•˜ì§€ë§Œ 1ë²ˆì˜ ë§ì…ˆì´ ëˆ„ë½ë˜ì–´ 1ì´ ë˜ì—ˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ ë¬¸ì œì ì´ ë°œìƒí•˜ëŠ” ì´ìœ ëŠ” Thread ê°„ ê³µìœ ë˜ëŠ” ë³€ìˆ˜ì— ë™ì‹œì— ì—¬ëŸ¬ Threadê°€ ë™ì‹œì— ì ‘ê·¼í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. ì´ì²˜ëŸ¼, Threadê°€ ë™ì‹œì— ì ‘ê·¼í•˜ëŠ” ê²½ìš°ì— ì—°ì‚° ê²°ê³¼, í˜¹ì€ ë°ì´í„° ëˆ„ë½ì´ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì˜ì—­ì„ &lt;strong&gt;Critical Section&lt;/strong&gt;(ì„ê³„ì˜ì—­)ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê²°ê³¼ì ìœ¼ë¡œ ì—°ì‚° ê²°ê³¼ê°€ 13291376ì™€ ê°™ì´ ì´ìƒí•œ ê°’ì´ ì¶œë ¥ë˜ëŠ” ì´ìœ ëŠ” ì¹´ìš´íŒ…í•  ìˆ«ìê°€ ë§ì•„ì§ì— ë”°ë¼ ìœ„ ì˜ˆì‹œ ê°™ì€ ê²½ìš°ë“¤ì´ ë‹¤ìˆ˜ ë°œìƒí•˜ì˜€ê³ , ì´ì— ë”°ë¼ ëˆ„ë½ëœ ì¹´ìš´íŒ…ì´ ë°œìƒí•œ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;synchronization---mutex&quot;&gt;Synchronization - Mutex&lt;/h1&gt;

&lt;p&gt;ì´ëŸ¬í•œ Critical Sectionì—ì„œ ë°œìƒí•˜ëŠ” ë¬¸ì œì ì„ í•´ê²°í•˜ëŠ” ë°©ë²•ì„ ë™ê¸°í™”(synchronization)ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ìƒí˜¸ë°°ì œ(Mutual Exclusion, MutEx)ëŠ” ì´ëŸ¬í•œ ë¬¸ì œì ì„ í•´ê²°í•˜ê¸° ìœ„í•œ ë™ê¸°í™” ë°©ë²• ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;pythonì—ì„œëŠ” ê°„ë‹¨í•˜ê²Œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;threading.lock()&lt;/code&gt; ì„ í†µí•´ ìƒí˜¸ë°°ì œ ë™ê¸°í™”ë¥¼ ì§€ì›í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Lock&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;thread_main_mutex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ì•„ë˜ ì½”ë“œ ë¸”ë¡ì€ í•œë²ˆì— í•˜ë‚˜ì˜ threadì— ì˜í•´ì„œë§Œ ì‹¤í–‰ë©ë‹ˆë‹¤
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
  	&lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;lock&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# lock í•´ì œ
&lt;/span&gt;    
&lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thread_main_mutex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'g_count = '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# g_count =  50000000
# CPU times: user 3.02 s, sys: 9.92 ms, total: 3.03 s
# Wall time: 3.03 s
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ ì½”ë“œì—ì„œ ë™ê¸°í™”ê°€ ì–´ë–»ê²Œ ì‘ë™í•˜ëŠ”ì§€ ë‹¨ìˆœí•˜ê²Œ ê·¸ë ¤ë³´ë©´, ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/thread-in-python-3.jpg&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;lock()&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;release()&lt;/code&gt; ì„ ì ìš©í•˜ê²Œ ë˜ë©´, ìœ„ ê·¸ë¦¼ì²˜ëŸ¼ ë™ì‘í•©ë‹ˆë‹¤. Thread Aê°€ critical sectionì—ì„œ ì‘ì—…ì„ í•˜ëŠ” ë™ì•ˆ, Thread BëŠ” critical sectionì˜ ë°ì´í„°ì„ ì½ê±°ë‚˜, ì“¸ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë§ì…ˆ(ì¹´ìš´íŒ…)ì´ ëˆ„ë½ë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•˜ì§€ ì•Šì•„ ì¶œë ¥ ê²°ê³¼ê°€ 50000000ì´ ë‚˜ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;h1 id=&quot;synchronization---semaphore&quot;&gt;Synchronization - Semaphore&lt;/h1&gt;

&lt;p&gt;ë˜ ë‹¤ë¥¸ ë™ê¸°í™” ë°©ë²•ì—ëŠ” Semaphoreê°€ ìˆìŠµë‹ˆë‹¤. critical sectionì— ë™ì‹œì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” threadë¥¼ ê´€ë¦¬í•œë‹¤ëŠ” ê°œë…ì€ ê°™ì§€ë§Œ, mutexê°€ ì´ë¥¼ 1ê°œë¡œ ì§€ì •í•˜ëŠ” ê²ƒì— ë¹„í•´, semaphoreëŠ” Nê°œì˜ threadê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì§€ì •í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ì¦‰, mutexëŠ” semaphore ë™ì‹œì— ì ‘ê·¼ ê°€ëŠ¥í•œ threadë¥¼ 1ê°œë¡œ ì§€ì •í•œ ê²½ìš°(binary semaphore)ë¡œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;threading&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Semaphore&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;sem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Semaphore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;thread_main_semaphore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;global&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;acquire&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ì•„ë˜ ì½”ë“œ ë¸”ë¡ì€ 2ê°œ threadê°€ ë™ì‹œì— ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;sem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;release&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    
&lt;span class=&quot;n&quot;&gt;threads_sem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threading&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Thread&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;thread_main_semaphore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;threads_sem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;append&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
&lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;        
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads_sem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    
&lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;threads_sem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;th&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'g_count = '&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# g_count =  33725184
# CPU times: user 3.07 s, sys: 17.1 ms, total: 3.08 s
# Wall time: 3.08 s
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ë™ê¸°í™”ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë˜ ì¼€ì´ìŠ¤ì²˜ëŸ¼, Semaphoreë¥¼ ì§€ì •í•˜ëŠ” ê²½ìš°ì—ë„ 2ê°œ threadê°€ ë™ì‹œì— ì ‘ê·¼í•˜ê²Œ ë˜ë¯€ë¡œ ë§ì…ˆ ëˆ„ë½ì´ ë°œìƒí•©ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;g_count&lt;/code&gt; ê°’ì´ 33725184ë¡œ ë™ê¸°í™”ë¥¼ ì ìš©í•˜ì§€ ì•Šì•˜ë˜ ì¼€ì´ìŠ¤ê°€ 13291376ì¸ ê²ƒê³¼ ë¹„êµí•œë‹¤ë©´ ê½¤ ë§ì€ ë§ì…ˆ ëˆ„ë½ì„ ë°©ì§€í•  ìˆ˜ ìˆëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ìœ„ ì„¸ ê°€ì§€(ë™ê¸°í™” ì ìš© ì•ˆí•¨, mutex, semaphore)ì˜ ê³„ì‚° ê²°ê³¼ì™€ ê±¸ë¦¬ëŠ” ì‹œê°„ì„ ë¹„êµí•´ë³´ë©´ì„œ ê¸€ì„ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;1000000ìœ¼ë¡œëŠ” ì‹œê°„ ì°¨ì´ê°€ ê·¹ëª…í•˜ê²Œ ë“œëŸ¬ë‚˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ê° threadê°€ 10000000ë²ˆ ì¹´ìš´íŒ…í•˜ëŠ” ê²ƒìœ¼ë¡œ ì…‹íŒ…í•˜ê³  ì‹¤í—˜í–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Â &lt;/th&gt;
      &lt;th&gt;time&lt;/th&gt;
      &lt;th&gt;g_count&lt;/th&gt;
      &lt;th&gt;success rate&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;No threading&lt;/td&gt;
      &lt;td&gt;31.9s&lt;/td&gt;
      &lt;td&gt;500000000&lt;/td&gt;
      &lt;td&gt;100%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;Only threading&lt;/td&gt;
      &lt;td&gt;31.0s&lt;/td&gt;
      &lt;td&gt;32379893&lt;/td&gt;
      &lt;td&gt;6.48%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;threading with mutex&lt;/td&gt;
      &lt;td&gt;30.8s&lt;/td&gt;
      &lt;td&gt;500000000&lt;/td&gt;
      &lt;td&gt;100%&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;threading with semaphore&lt;/td&gt;
      &lt;td&gt;30.6s&lt;/td&gt;
      &lt;td&gt;327324001&lt;/td&gt;
      &lt;td&gt;65.46%&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;Q. critical sectionì— ì œì•½ì„ ê±¸ì§€ ì•Šì€ Only threadingì´ mutex, semaphoreë¥¼ ì ìš©í•œ ì¼€ì´ìŠ¤ë³´ë‹¤ ë” ë¹¨ë¦¬ ìˆ˜í–‰ë˜ì–´ì•¼í•  ê²ƒ ê°™ì€ë° ë” ê¸´ ì‹œê°„ì´ ì†Œìš”ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ìœ ë¥¼ ê³µë¶€í•´ì„œ ì•„ë˜ì— ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤..!&lt;/p&gt;

&lt;p&gt;[ì°¸ê³ ]&lt;/p&gt;

&lt;p&gt;íŒ¨ìŠ¤íŠ¸ìº í¼ìŠ¤ - ì»´í“¨í„° ê³µí•™ ì „ê³µ í•„ìˆ˜ ì˜¬ì¸ì› íŒ¨í‚¤ì§€ Online.&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>GyuhoonK</name>
        
        
      </author>

      

      
        <category term="python" />
      

      
        <summary type="html">Python - Thread, Mutex, Semaphore</summary>
      

      
      
    </entry>
  
    <entry>
      <title type="html">AWS S3ì™€ zip íŒŒì¼</title>
      <link href="https://gyuhoonk.github.io/boto3-zipfile" rel="alternate" type="text/html" title="AWS S3ì™€ zip íŒŒì¼" />
      <published>2021-09-01T22:30:00+09:00</published>
      <updated>2021-09-01T22:30:00+09:00</updated>
      <id>https://gyuhoonk.github.io/boto3-zipfile</id>
      <content type="html" xml:base="https://gyuhoonk.github.io/boto3-zipfile">&lt;p&gt;AWS S3 ë‚´ zip íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì§€ ì•Šê³ , ë‚´ìš©ë¬¼ë§Œ ë‹¤ìš´ë¡œë“œ ë°›ê¸°&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../assets/built/images/aws-s3-structure.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;p&gt;AWS S3 StorageëŠ” ìœ„ì™€ ê°™ì´ Bucket - Container(Folder) - Objects êµ¬ì¡°ì…ë‹ˆë‹¤. ë”°ë¼ì„œ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ëœ íŠ¹ì • íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ê³ ì í•˜ëŠ” ê²½ìš°ì—, ë³´í†µ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¡œ ìŠ¤í† ë¦¬ì§€ ë‚´ ì €ì¥ëœ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Bucket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'my_container/my_file.csv'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Filename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'downloaded_file.csv'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ì˜ ì˜ˆì‹œëŠ” csv íŒŒì¼ì´ê¸° ë•Œë¬¸ì—, ë¹„êµì  ê°„ë‹¨í•˜ê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ë‹¤ë©´, ë‹¤ìš´ë¡œë“œ ë°›ê³ ì í•˜ëŠ” objectê°€ &lt;strong&gt;zipíŒŒì¼&lt;/strong&gt;ê³¼ ê°™ì€ ì••ì¶• íŒŒì¼ì´ë¼ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œìš”?&lt;/p&gt;

&lt;p&gt;ì²˜ìŒ ë“œëŠ” ìƒê°ì€&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;
    &lt;p&gt;zipíŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ í•œë‹¤.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;zipíŒŒì¼ì„ ì••ì¶• í•´ì œí•˜ì—¬ ì›í•˜ëŠ” íŒŒì¼ì„ ì°¾ëŠ”ë‹¤.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë¬¸ì œ ì—†ì´ ì›í•˜ëŠ” íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;## [a.csv, b.csv, c.csv] -&amp;gt; [abc.zip]ìœ¼ë¡œ ì••ì¶•ë˜ì—ˆë‹¤ê³  ê°€ì •
## a.csvë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ìœ¼ë ¤ëŠ” ì½”ë“œ
&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bucket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;Filename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'downloaded_abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;zipfile&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'downloaded_abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'a.csv'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ìœ„ ì½”ë“œëŠ” objectì— í•´ë‹¹í•˜ëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abc.zip&lt;/code&gt;ì— 3ê°œì˜ íŒŒì¼ë°–ì— ì €ì¥ë˜ì§€ ì•Šì•˜ìœ¼ë©°, ê·¸ ìš©ëŸ‰ë„ ë§¤ìš° ì‘ì•„ íš¨ìœ¨ì„±ì˜ ë¬¸ì œê°€ ì œê¸°ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ëŸ¬ë‚˜ ì•„ë˜ì™€ ê°™ì€ ìƒí™©ì´ë¼ë©´ ì–´ë–¨ê¹Œìš”?&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abc.zip&lt;/code&gt; ë‚´ì— 10ë§Œê°œì˜ íŒŒì¼ì„ ì••ì¶•í•˜ê³  ìˆì§€ë§Œ, ë‹¤ìš´ë¡œë“œí•´ì•¼í•  íŒŒì¼ì€ zipíŒŒì¼ ë‚´ë¶€ì˜ ë”± 1ê°œì¸ ê²½ìš°&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abc.zip&lt;/code&gt; ë‚´ì— ì••ì¶•ëœ íŒŒì¼ë“¤ì˜ ìš©ëŸ‰ì´ ë§¤ìš° í¬ê³ , ë‹¤ìš´ë¡œë“œí•´ì•¼í•  íŒŒì¼ì€ zipíŒŒì¼ ë‚´ë¶€ì˜ ë”± 1ê°œì¸ ê²½ìš°&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;ìœ„ì™€ ê°™ì€ ìƒí™©ì˜ ê³µí†µì ì€ ì••ì¶• íŒŒì¼ ì „ì²´ë¥¼ ë‹¤ìš´ë¡œë“œí•  í•„ìš”ëŠ” ì—†ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤. ë¶ˆí•„ìš”í•œ íŒŒì¼ë“¤(1ê°œë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ íŒŒì¼)ì— ëŒ€í•´ì„œë„  DISK IO ì‘ì—…ì´ ìˆ˜í–‰ë˜ë¯€ë¡œ, ë¦¬ì†ŒìŠ¤ ì¸¡ë©´ì—ì„œë„ ì‹œê°„ ì¸¡ë©´ì—ì„œë„ ì†í•´ì…ë‹ˆë‹¤. ì¦‰, ì´ëŸ¬í•œ ë‘ ê°€ì§€ ìƒí™©ì—ì„œëŠ”  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;abc.zip&lt;/code&gt;íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ëŠ” ìœ„ì˜ ì½”ë“œëŠ” ë§¤ìš° ë¹„íš¨ìœ¨ì ì´ë©° ì‹œê°„ì„ ë‚­ë¹„í•˜ê²Œ ë©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ë‹¤ë©´, &lt;strong&gt;zipíŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì§€ ì•Šê³ , ë‚´ë¶€ì˜ ì••ì¶•ëœ íŒŒì¼ ì¤‘ íŠ¹ì • íŒŒì¼ë§Œ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆëŠ” ë°©ë²•ì€ ë¬´ì—‡ì¼ê¹Œìš”?&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ì´ëŸ¬í•œ ì ‘ê·¼ì„ ìœ„í•´ì„œëŠ”, ë¨¼ì € &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;boto3.resource&lt;/code&gt;  ë¡œ objectì— ì ‘ê·¼í•´ì•¼í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;object ëŠ” ë‹¤ìŒ ì½”ë“œë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# s3.Object(bucket_name = 'my_bucket', key='my_container/abc.zip')
# A resource representing an Amazon Simple Storage Service (S3) Object 
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content_length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ì „ì²´ íŒŒì¼ ê¸¸ì´ë¥¼ ë°˜í™˜(byte)
# 123
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'bytes=1-3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# s3_objectì˜ 1ë°”ì´íŠ¸ ~ 3ë°”ì´íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ë°˜í™˜í•©ë‹ˆë‹¤
# 1ë°”ì´íŠ¸~3ë°”ì´íŠ¸ì— í•´ë‹¹í•˜ëŠ” ë°ì´í„°ëŠ” s3_object.get(Range='bytes=1-3')['Body']ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
# ê·¸ëŸ¼ ì–´ë””ë¶€í„° ì–´ë””ê¹Œì§€ ì½ì–´ì•¼í•˜ëŠ” ê±¸ê¹Œìš”? &amp;lt;- ìš°ë¦¬ê°€ êµ¬í˜„í•˜ê³ ì í•˜ëŠ” í•µì‹¬ì…ë‹ˆë‹¤.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Storageë¡œë¶€í„° íŒŒì¼ì— ì ‘ê·¼í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ ì ‘ê·¼í•œ objectì—ëŠ” HTTP Headerê°€ í¬í•¨ë˜ì–´ ìˆìŠµë‹ˆë‹¤. í—¤ë”ë¥¼ ì œì™¸í•œ ì‹¤ì œ ë‚´ìš©ë¬¼(ì´ ê²½ìš°ì—ëŠ” ì••ì¶• íŒŒì¼ ë‚´ë¶€)ë§Œì„ ì°¾ì•„ì„œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt;ì—ê²Œ ì „ë‹¬í•  ìˆ˜ ìˆì–´ì•¼í•©ë‹ˆë‹¤!&lt;/p&gt;

&lt;p&gt;ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ì£¼ëª©í•´ì•¼í•  ê°’ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;'Body':StreamingBody()&lt;/code&gt; ì…ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StreamingBody()&lt;/code&gt;ê°ì²´ì— ì‹¤ì œ  AWS S3 Storageì— ì €ì¥ëœ object íŒŒì¼ì˜ ì •ë³´ê°€ ë‹´ê²¨ìˆìŠµë‹ˆë‹¤. ë¬¸ì œëŠ” HTTP Headerì™€ HTTP Bodyê°€ êµ¬ë¶„ë˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì ì´ì£ .&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StreamingBody()&lt;/code&gt;ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê°ì²´ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;botocore&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;StreamingBody&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;raw_stream&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content_length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Wrapper class for an http response body.
This provides a few additional conveniences that do not exist in the urllib3 model:
Set the timeout on the socket (i.e read() timeouts)
Auto validation of content length, if the amount of bytes we read does not match the content length, an exception is raised.'''&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Close the underlying http response stream.'''&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;iter_chunks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chunk_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Return an iterator to yield chunks of chunk_size bytes from the raw stream.'''&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;iter_lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;chunk_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1024&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;keepends&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Return an iterator to yield lines from the raw stream.
This is achieved by reading chunk of bytes (of size chunk_size) at a time from the raw stream, and then yielding lines from there.'''&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;next&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Return the next 1k chunk from the raw stream.'''&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;amt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Read at most amt bytes from the stream.
If the amt argument is omitted, read all data.'''&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;set_socket_timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''Set the timeout seconds on the socket.'''&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì¦‰, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s3.Object.get()&lt;/code&gt;ë¥¼ í†µí•´  ì–»ì–´ì§„ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StreamingBody&lt;/code&gt;ê°ì²´ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s3.Object&lt;/code&gt; ë¥¼ í˜¸ì¶œí•œ ê²°ê³¼ë¬¼ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  í•´ë‹¹ ê°ì²´ëŠ” file-like objectë¡œ ë³´ì—¬ì§‘ë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read()&lt;/code&gt; í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³  ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt;ì˜ ì •ì˜ë¥¼ ì‚´í´ë³´ë©´, Diskì— ì¡´ì¬í•˜ëŠ” íŒŒì¼(íŒŒì¼ ê²½ë¡œ)ë¿ ì•„ë‹ˆë¼, íŒŒì¼ë¥˜ ê°ì²´(file-like object)ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤ê³  ë§í•˜ê³  ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;zipfile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'r'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;compression&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ZIP_STORED&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;allowZip64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;compresslevel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strict_timestamps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;'''ZIP íŒŒì¼ì„ ì—½ë‹ˆë‹¤, ì—¬ê¸°ì„œ fileì€ íŒŒì¼ì— ëŒ€í•œ ê²½ë¡œ (ë¬¸ìì—´), íŒŒì¼ë¥˜ ê°ì²´ ë˜ëŠ” ê²½ë¡œë¥˜ ê°ì²´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.'''&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;í—¤ë”ë¥¼ ì œì™¸í•˜ê³  ìë™ìœ¼ë¡œ Bodyë¥¼ ì°¾ì•„ì£¼ê¸¸ ê¸°ëŒ€í•˜ë©°, ìš°ë¦¬ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StreamingBody&lt;/code&gt;ë¥¼ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zipFile&lt;/code&gt;ì— ì¸ìë¡œ ì „ë‹¬í•´ë´…ë‹ˆë‹¤!&lt;/p&gt;

&lt;p&gt;ê·¸ëŸ¬ë‚˜, ì‹œë„í•´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ì—ëŸ¬ê°€ ë‚˜ì˜µë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;zipfile&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;streaming_body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'Body'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Rangeë¥¼ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ì „ì²´ ë°”ì´íŠ¸ë¥¼ ì½ì–´ì˜¨ë‹¤
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;streaming_body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;namelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Traceback (most recent call last):
  File &quot;test.py&quot;, line 9, in &amp;lt;module&amp;gt;
    with ZipFile(s3_object[&quot;Body&quot;]) as z:
  File &quot;/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6/lib/python3.6/zipfile.py&quot;, line 1108, in __init__
    self._RealGetContents()
  File &quot;/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6/lib/python3.6/zipfile.py&quot;, line 1171, in _RealGetContents
    endrec = _EndRecData(fp)
  File &quot;/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6/lib/python3.6/zipfile.py&quot;, line 241, in _EndRecData
    fpin.seek(0, 2)
AttributeError: 'StreamingBody' object has no attribute 'seek'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;seek&lt;/code&gt;ì´ë€ í•¨ìˆ˜ê°€ ì—†ì–´, í•´ë‹¹ ì••ì¶• íŒŒì¼ì„ í•´ì œí•  ìˆ˜ ì—†ë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ê·¸ë ‡ë‹¤ë©´, ì´ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;seek&lt;/code&gt; í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ê³  &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt;ì„ í†µí•´ ì½ì–´ì˜¬ ìˆ˜ ìˆë„ë¡ í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;ë¨¼ì €, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt;ì—ì„œ í•„ìš”í•˜ë‹¤ê³  ë§í•˜ëŠ” &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;seek&lt;/code&gt;ì´ë€ ì–´ë–¤ í•¨ìˆ˜ì¼ê¹Œìš”?&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;class.io.IOBase&lt;/code&gt;ì—ì„œ ì´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;seek(offset, whence=SEEK_SET)
ìŠ¤íŠ¸ë¦¼ ìœ„ì¹˜ë¥¼ ì§€ì •ëœ ë°”ì´íŠ¸ offsetìœ¼ë¡œ ë³€ê²½í•©ë‹ˆë‹¤. offsetì€ whenceê°€ ê°€ë¦¬í‚¤ëŠ” ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•´ì„ë©ë‹ˆë‹¤. whenceì˜ ê¸°ë³¸ê°’ì€ SEEK_SETì…ë‹ˆë‹¤. whenceì˜ ê°’ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:&lt;/p&gt;

  &lt;p&gt;SEEK_SET ë˜ëŠ” 0 â€“ ìŠ¤íŠ¸ë¦¼ì˜ ì‹œì‘(ê¸°ë³¸ê°’); offsetì€ 0ì´ê±°ë‚˜ ì–‘ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤&lt;/p&gt;

  &lt;p&gt;SEEK_CUR ë˜ëŠ” 1 â€“ í˜„ì¬ ìŠ¤íŠ¸ë¦¼ ìœ„ì¹˜; offsetì€ ìŒìˆ˜ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤&lt;/p&gt;

  &lt;p&gt;SEEK_END ë˜ëŠ” 2 â€“ ìŠ¤íŠ¸ë¦¼ì˜ ë; offsetì€ ì¼ë°˜ì ìœ¼ë¡œ ìŒìˆ˜ì…ë‹ˆë‹¤&lt;/p&gt;

  &lt;p&gt;seekable()
ìŠ¤íŠ¸ë¦¼ì´ ë¬´ì‘ìœ„ ì•¡ì„¸ìŠ¤ë¥¼ ì§€ì›í•˜ë©´ Trueë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤. Falseì´ë©´, seek(), tell() ë° truncate()ê°€ OSErrorë¥¼ ë°œìƒì‹œí‚µë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ë¥¼ ì°¸ê³ í•˜ì—¬, ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ ì •ì˜í•´ë´…ë‹ˆë‹¤&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;io&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# io.RawIOBaseëŠ” io.IOBaseë¥¼ ìƒì†í•˜ëŠ” í´ë˜ìŠ¤
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;S3File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RawIOBase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; 
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;seek&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ì‹œì‘ ìœ„ì¹˜ë¡œë¶€í„° positionì„¤ì •
&lt;/span&gt;            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# í˜„ì¬ ìœ„ì¹˜ë¡œë¶€í„° position ì„¤ì •
&lt;/span&gt;            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;elif&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_END&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ë ìœ„ì¹˜ë¡œë¶€í„° offset(ìŒìˆ˜)ë§Œí¼ ëŒì•„ê°€ì„œ ì„¤ì •
&lt;/span&gt;            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content_length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;ValueError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;invalid whence (%r, should be %d, %d, %d)&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_SET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_END&lt;/span&gt;
            &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;seekable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ì œ, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;StreamingBody&lt;/code&gt;ë¥¼ ì½ì–´ì˜¬ ìˆ˜ ìˆì„ê¹Œìš”? ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ì•˜ì§€ë§Œ ì•„ì‰½ê²Œë„ ì—ëŸ¬ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;S3File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;namelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Traceback (most recent call last):
  File &quot;example.py&quot;, line 38, in &amp;lt;module&amp;gt;
    with zipfile.ZipFile(s3_file) as zf:
  File &quot;/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6/lib/python3.6/zipfile.py&quot;, line 1108, in __init__
    self._RealGetContents()
  File &quot;/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6/lib/python3.6/zipfile.py&quot;, line 1171, in _RealGetContents
    endrec = _EndRecData(fp)
  File &quot;/usr/local/Cellar/python/3.6.4_4/Frameworks/Python.framework/Versions/3.6/lib/python3.6/zipfile.py&quot;, line 251, in _EndRecData
    data = fpin.read()
NotImplementedError
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt; ë¥¼ êµ¬í˜„í•´ì£¼ì–´ì•¼í•  ê²ƒ ê°™ìŠµë‹ˆë‹¤. &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;io.RawIOBase&lt;/code&gt; ë¥¼ ë³´ë©´ ì´ í•¨ìˆ˜ì˜ ì—­í• ì€ ë‹¤ìŒê³¼ ê°™ë‹¤ê³  í•©ë‹ˆë‹¤.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;read(size=-1)
ê°ì²´ì—ì„œ ìµœëŒ€ size ë°”ì´íŠ¸ë¥¼ ì½ê³  ë°˜í™˜í•©ë‹ˆë‹¤. í¸ì˜ìƒ, sizeê°€ ì§€ì •ë˜ì§€ ì•Šê±°ë‚˜ -1ì´ë©´, EOFê¹Œì§€ì˜ ëª¨ë“  ë°”ì´íŠ¸ê°€ ë°˜í™˜ë©ë‹ˆë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´, í•˜ë‚˜ì˜ ì‹œìŠ¤í…œ í˜¸ì¶œë§Œ ìˆ˜í–‰ë©ë‹ˆë‹¤. ìš´ì˜ ì²´ì œ ì‹œìŠ¤í…œ í˜¸ì¶œì´ size ë°”ì´íŠ¸ ë¯¸ë§Œì„ ë°˜í™˜í•˜ë©´ size ë°”ì´íŠ¸ ë¯¸ë§Œì´ ë°˜í™˜ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
0ë°”ì´íŠ¸ê°€ ë°˜í™˜ë˜ê³ , sizeê°€ 0ì´ ì•„ë‹ˆë©´, íŒŒì¼ì˜ ëì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤. ê°ì²´ê°€ ë¹„ ë¸”ë¡œí‚¹ ëª¨ë“œì´ê³  ì‚¬ìš© ê°€ëŠ¥í•œ ë°”ì´íŠ¸ê°€ ì—†ìœ¼ë©´ Noneì´ ë°˜í™˜ë©ë‹ˆë‹¤.
ê¸°ë³¸ êµ¬í˜„ì€ readall()ê³¼ readinto()ë¡œ ìœ„ì„í•©ë‹ˆë‹¤.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ì´ì œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt; ì—ì„œ íŒŒì¼ì„ ì½ê¸° ìœ„í•´ í•„ìš”í•œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt;í•¨ìˆ˜ë¥¼ êµ¬í˜„í•´ë´…ë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;S3File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RawIOBase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ìœ„ì™€&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ë™ì¼&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;
		&lt;span class=&quot;c1&quot;&gt;# ì¶”ê°€ ë¶€ë¶„
&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;property&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content_length&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# í•¨ìˆ˜ ì •ì˜ì— ë”°ë¼, EOFê¹Œì§€ì˜ ë°”ì´íŠ¸ë¥¼ ë°˜í™˜
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;range_header&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;bytes=%d-&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seek&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_END&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# new_position ì„¤ì •
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;new_position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# content_length(size)ë¥¼ ë„˜ê¸´ ê²½ìš°, EOFê¹Œì§€ì˜ ë°”ì´íŠ¸ë¥¼ ë°˜í™˜
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
						
            &lt;span class=&quot;n&quot;&gt;range_header&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;bytes=%d-%d&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new_position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seek&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;whence&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SEEK_CUR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
				&lt;span class=&quot;c1&quot;&gt;# rage_headerì—ì„œ ì§€ì •í•œ ë§Œí¼ë§Œ, StreamingBodyë¡œë¶€í„° ì½ì–´ë“¤ì—¬ì˜µë‹ˆë‹¤
&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Body&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;readable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt;ê°€ êµ¬í˜„ë˜ì—ˆë¯€ë¡œ, ì´ì œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt;ì„ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, ì‚¬ìš©í•˜ëŠ” í™˜ê²½ì— ë”°ë¼ ì¼ì • Byteë¥¼ ì½ì–´ë“¤ì—¬ì˜¤ê³  í•´ë‹¹ Byteì—ì„œ ì‹¤ì œ íŒŒì¼ì´ ì¡´ì¬í•˜ëŠ” ë¶€ë¶„ì„ ì¶”ì¶œí•©ë‹ˆë‹¤. ëª‡ ë²ˆì˜ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt;ë¥¼ í†µí•´ í˜„ì¬ ìœ„ì¹˜(&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;self.position&lt;/code&gt;)ì„ ë°”ê¿”ê°€ë©°&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s3.Object&lt;/code&gt;ì—ì„œ í—¤ë”ëŠ” ì œì™¸í•˜ê³  ì••ì¶•ëœ íŒŒì¼ ë‚´ìš©ì¸  Bodyë§Œì„  ì½ì–´ë“¤ì¼ ê²ƒì…ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ëŸ¬í•œ ë¶€ë¶„ê¹Œì§€ëŠ” êµ¬í˜„í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì§€ê¸ˆê¹Œì§€ ì‘ì—…í•œ ë‚´ìš©ì„ í†µí•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt;ì´ ìœ„ì˜ ê³¼ì •(í—¤ë” ìŠ¤í‚µí•˜ê¸° ìœ„í•´ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;seek&lt;/code&gt;, &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt;)ì„ í•˜ê¸° ìœ„í•´ í•„ìš”í•œ í•¨ìˆ˜ë¥¼ ì •ì˜í–ˆê¸° ë•Œë¬¸ì´ì£ !&lt;/p&gt;

&lt;p&gt;ì´ì œ ë‹¤ì‹œ ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;S3File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# ì´ì œ ZipFileì€ s3_objectì˜ ë‚´ìš©ì„ ì½ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!!
&lt;/span&gt;  &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;namelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# [a.csv, b.csv, c.csv]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ì´ì œ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;ZipFile&lt;/code&gt; ì€ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;s3.Object&lt;/code&gt;ì—ì„œ ì••ì¶•ëœ íŒŒì¼ë§Œì„ ì½ì–´ë“¤ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤!&lt;/p&gt;

&lt;p&gt;ë‚˜ì•„ê°€, ì••ì¶• íŒŒì¼ ë‚´ì— ì–´ë–¤ íŒŒì¼ì´ ìˆëŠ”ì§€ ì•Œê³  ìˆë‹¤ë©´ ë°”ë¡œ íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;S3File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'a.csv'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê¸°ì¡´ ë°©ë²•ì— ë¹„í•´ ë¹ ë¥¼ê¹Œìš”? ì‹¤í—˜í•´ë³´ê² ìŠµë‹ˆë‹¤.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# abc.zipì— 400ê°œì˜ íŒŒì¼ì„ ì••ì¶•í–ˆìŠµë‹ˆë‹¤.
# ë°©ë²• 1 : zip ë‹¤ìš´ë¡œë“œ ì´í›„ ì••ì¶• í•´ì œ
&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;boto3&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;zipfile&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;client&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Bucket&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;Key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;Filename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'downloaded_abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'downloaded_abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'a.csv'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 9.74s ì†Œìš”
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# ë°©ë²• 2 : ì •ì˜í•œ S3Fileì„ ì´ìš©í•˜ì—¬ zip ì••ì¶• ë‚´ í•„ìš” íŒŒì¼ë§Œ ë‹¤ìš´ë¡œë“œ
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;boto3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'s3'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;region_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;'us-east-1'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_acess_key_id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_KEY_ID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                 &lt;span class=&quot;n&quot;&gt;aws_secret_access_key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AWS_SECRET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;s3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'my_bucket'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                      &lt;span class=&quot;s&quot;&gt;'my_container/abc.zip'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;S3File&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ZipFile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s3_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;'a.csv'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# 475ms ì†Œìš” (ì•½ 0.5ì´ˆ)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ê±°ì˜ 20ë°° ê°€ê¹Œì´ ì†ë„ ì°¨ì´ê°€ ë‚©ë‹ˆë‹¤! ë‚˜ë¨¸ì§€ 399ê°œ íŒŒì¼ì— ëŒ€í•œ DISK IOê°€ ë°œìƒí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì´ì£ .&lt;/p&gt;

&lt;p&gt;íŒŒì¼ ê°œìˆ˜ê°€ ë§ì„ìˆ˜ë¡, ê·¸ë¦¬ê³  ìš©ëŸ‰ì´ í´ìˆ˜ë¡ ì´ëŸ¬í•œ ì‹œê°„ ì°¨ì´ëŠ” ë” ì»¤ì§ˆ ê²ƒì…ë‹ˆë‹¤.&lt;/p&gt;

&lt;p&gt;[ì°¸ê³ ] &lt;a href=&quot;https://alexwlchan.net/2019/02/working-with-large-s3-objects/&quot;&gt;Working with really large objects in S3&lt;/a&gt;&lt;/p&gt;</content>

      
      
      
      
      

      <author>
          <name>GyuhoonK</name>
        
        
      </author>

      

      
        <category term="python" />
      

      
        <summary type="html">AWS S3 ë‚´ zip íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œ ë°›ì§€ ì•Šê³ , ë‚´ìš©ë¬¼ë§Œ ë‹¤ìš´ë¡œë“œ ë°›ê¸°</summary>
      

      
      
    </entry>
  
</feed>
